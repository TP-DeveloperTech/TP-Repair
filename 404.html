<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
        // Get the current path
        var path = window.location.pathname;
        var repo = '/TP-Repair';
        var basePath = repo;

        // Remove repo name from path if present
        if (path.startsWith(repo)) {
            path = path.substring(repo.length);
        }

        // Ensure path starts with /
        if (!path.startsWith('/')) {
            path = '/' + path;
        }

        // Remove trailing slash except for root
        if (path !== '/' && path.endsWith('/')) {
            path = path.slice(0, -1);
        }

        // Build the redirect URL with hash for HashRouter
        var redirectUrl = basePath + '/#' + path;
        
        // Add search params if present
        if (window.location.search) {
            redirectUrl += window.location.search;
        }

        // Redirect to hash version for client-side routing
        // Example: /TP-Repair/login -> /TP-Repair/#/login
        window.location.replace(redirectUrl);
    </script>
</head>

<body>
    <p>Redirecting...</p>
</body>

</html>