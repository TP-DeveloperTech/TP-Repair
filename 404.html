<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        (function() {
            var path = window.location.pathname;
            var repo = '/TP-Repair';
            var basePath = repo;

            // Remove repo name from path if present
            if (path.startsWith(repo)) {
                path = path.substring(repo.length);
            }

            // Ensure path starts with /
            if (!path.startsWith('/')) {
                path = '/' + path;
            }

            // Remove trailing slash except for root
            if (path !== '/' && path.endsWith('/')) {
                path = path.slice(0, -1);
            }

            // If path is empty or just '/', redirect to base
            if (path === '' || path === '/') {
                window.location.replace(basePath + '/');
                return;
            }

            // Build the redirect URL with hash for HashRouter
            var redirectUrl = basePath + '/#' + path;
            
            // Add search params if present
            if (window.location.search) {
                redirectUrl += window.location.search;
            }

            // Redirect to hash version for client-side routing
            // Example: /TP-Repair/report -> /TP-Repair/#/report
            window.location.replace(redirectUrl);
        })();
    </script>
</head>

<body>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <p>กำลังเปลี่ยนเส้นทาง...</p>
        <p style="color: #666; font-size: 14px;">Redirecting...</p>
        <noscript>
            <p>Please enable JavaScript to continue.</p>
            <p><a href="/TP-Repair/">Go to homepage</a></p>
        </noscript>
    </div>
</body>

</html>