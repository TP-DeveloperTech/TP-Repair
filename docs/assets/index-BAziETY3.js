(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function FS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Pl={};var Gv;function GS(){if(Gv)return Pl;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Qv;function QS(){return Qv||(Qv=1,dm.exports=GS()),dm.exports}var E=QS(),mm={exports:{}},Se={};var Kv;function KS(){if(Kv)return Se;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function ne(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||Q}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function re(V,W,ae){this.props=V,this.context=W,this.refs=F,this.updater=ae||Q}var _e=re.prototype=new ie;_e.constructor=re,J(_e,ne.prototype),_e.isPureReactComponent=!0;var be=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(V,W,ae){var K=ae.ref;return{$$typeof:r,type:V,key:W,ref:K!==void 0?K:null,props:ae}}function O(V,W){return R(V.type,W,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function tt(V,W){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):W.toString(36)}function dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,W,ae,K,ce){var Ee=typeof V;(Ee==="undefined"||Ee==="boolean")&&(V=null);var Ie=!1;if(V===null)Ie=!0;else switch(Ee){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(V.$$typeof){case r:case e:Ie=!0;break;case T:return Ie=V._init,Y(Ie(V._payload),W,ae,K,ce)}}if(Ie)return ce=ce(V),Ie=K===""?"."+tt(V,0):K,be(ce)?(ae="",Ie!=null&&(ae=Ie.replace(I,"$&/")+"/"),Y(ce,W,ae,"",function(vs){return vs})):ce!=null&&(D(ce)&&(ce=O(ce,ae+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+Ie)),W.push(ce)),1;Ie=0;var st=K===""?".":K+":";if(be(V))for(var at=0;at<V.length;at++)K=V[at],Ee=st+tt(K,at),Ie+=Y(K,W,ae,Ee,ce);else if(at=k(V),typeof at=="function")for(V=at.call(V),at=0;!(K=V.next()).done;)K=K.value,Ee=st+tt(K,at++),Ie+=Y(K,W,ae,Ee,ce);else if(Ee==="object"){if(typeof V.then=="function")return Y(dt(V),W,ae,K,ce);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function oe(V,W,ae){if(V==null)return V;var K=[],ce=0;return Y(V,K,"","",function(Ee){return W.call(ae,Ee,ce++)}),K}function me(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ze={map:oe,forEach:function(V,W,ae){oe(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return oe(V,function(){W++}),W},toArray:function(V){return oe(V,function(W){return W})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=ze,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var K=J({},V.props),ce=V.key;if(W!=null)for(Ee in W.key!==void 0&&(ce=""+W.key),W)!x.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(K[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)K.children=ae;else if(1<Ee){for(var Ie=Array(Ee),st=0;st<Ee;st++)Ie[st]=arguments[st+2];K.children=Ie}return R(V.type,ce,K)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,W,ae){var K,ce={},Ee=null;if(W!=null)for(K in W.key!==void 0&&(Ee=""+W.key),W)x.call(W,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=W[K]);var Ie=arguments.length-2;if(Ie===1)ce.children=ae;else if(1<Ie){for(var st=Array(Ie),at=0;at<Ie;at++)st[at]=arguments[at+2];ce.children=st}if(V&&V.defaultProps)for(K in Ie=V.defaultProps,Ie)ce[K]===void 0&&(ce[K]=Ie[K]);return R(V,Ee,ce)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:me}},Se.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Se.startTransition=function(V){var W=C.T,ae={};C.T=ae;try{var K=V(),ce=C.S;ce!==null&&ce(ae,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ue,je)}catch(Ee){je(Ee)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),C.T=W}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(V){return C.H.use(V)},Se.useActionState=function(V,W,ae){return C.H.useActionState(V,W,ae)},Se.useCallback=function(V,W){return C.H.useCallback(V,W)},Se.useContext=function(V){return C.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,W){return C.H.useDeferredValue(V,W)},Se.useEffect=function(V,W){return C.H.useEffect(V,W)},Se.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(V,W,ae){return C.H.useImperativeHandle(V,W,ae)},Se.useInsertionEffect=function(V,W){return C.H.useInsertionEffect(V,W)},Se.useLayoutEffect=function(V,W){return C.H.useLayoutEffect(V,W)},Se.useMemo=function(V,W){return C.H.useMemo(V,W)},Se.useOptimistic=function(V,W){return C.H.useOptimistic(V,W)},Se.useReducer=function(V,W,ae){return C.H.useReducer(V,W,ae)},Se.useRef=function(V){return C.H.useRef(V)},Se.useState=function(V){return C.H.useState(V)},Se.useSyncExternalStore=function(V,W,ae){return C.H.useSyncExternalStore(V,W,ae)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.0",Se}var Yv;function gp(){return Yv||(Yv=1,mm.exports=KS()),mm.exports}var P=gp();const $v=FS(P);var pm={exports:{}},Ul={},gm={exports:{}},ym={};var Xv;function YS(){return Xv||(Xv=1,(function(r){function e(Y,oe){var me=Y.length;Y.push(oe);e:for(;0<me;){var je=me-1>>>1,ze=Y[je];if(0<o(ze,oe))Y[je]=oe,Y[me]=ze,me=je;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],me=Y.pop();if(me!==oe){Y[0]=me;e:for(var je=0,ze=Y.length,V=ze>>>1;je<V;){var W=2*(je+1)-1,ae=Y[W],K=W+1,ce=Y[K];if(0>o(ae,me))K<ze&&0>o(ce,ae)?(Y[je]=ce,Y[K]=me,je=K):(Y[je]=ae,Y[W]=me,je=W);else if(K<ze&&0>o(ce,me))Y[je]=ce,Y[K]=me,je=K;else break e}}return oe}function o(Y,oe){var me=Y.sortIndex-oe.sortIndex;return me!==0?me:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,S=3,k=!1,Q=!1,J=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function be(Y){if(J=!1,_e(Y),!Q)if(n(p)!==null)Q=!0,ue||(ue=!0,L());else{var oe=n(g);oe!==null&&dt(be,oe.startTime-Y)}}var ue=!1,C=-1,x=5,R=-1;function O(){return F?!0:!(r.unstable_now()-R<x)}function D(){if(F=!1,ue){var Y=r.unstable_now();R=Y;var oe=!0;try{e:{Q=!1,J&&(J=!1,ie(C),C=-1),k=!0;var me=S;try{t:{for(_e(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&O());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var ze=je(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof ze=="function"){b.callback=ze,_e(Y),oe=!0;break t}b===n(p)&&s(p),_e(Y)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var V=n(g);V!==null&&dt(be,V.startTime-Y),oe=!1}}break e}finally{b=null,S=me,k=!1}oe=void 0}}finally{oe?L():ue=!1}}}var L;if(typeof re=="function")L=function(){re(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,tt=I.port2;I.port1.onmessage=D,L=function(){tt.postMessage(null)}}else L=function(){ne(D,0)};function dt(Y,oe){C=ne(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return Y()}finally{S=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=S;S=Y;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function(Y,oe,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,Y){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,Y={id:T++,callback:oe,priorityLevel:Y,startTime:me,expirationTime:ze,sortIndex:-1},me>je?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(J?(ie(C),C=-1):J=!0,dt(be,me-je))):(Y.sortIndex=ze,e(p,Y),Q||k||(Q=!0,ue||(ue=!0,L()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var oe=S;return function(){var me=S;S=oe;try{return Y.apply(this,arguments)}finally{S=me}}}})(ym)),ym}var Jv;function $S(){return Jv||(Jv=1,gm.exports=YS()),gm.exports}var _m={exports:{}},Xt={};var Zv;function XS(){if(Zv)return Xt;Zv=1;var r=gp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Xt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Wv;function JS(){if(Wv)return _m.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=XS(),_m.exports}var e0;function ZS(){if(e0)return Ul;e0=1;var r=$S(),e=gp(),n=JS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===a){_=!0,a=h,l=d;break}if(A===l){_=!0,l=h,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=h;break}if(A===l){_=!0,l=d,a=h;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ne:return"Profiler";case F:return"StrictMode";case be:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var dt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],ze=-1;function V(t){return{current:t}}function W(t){0>ze||(t.current=je[ze],je[ze]=null,ze--)}function ae(t,i){ze++,je[ze]=t.current,t.current=i}var K=V(null),ce=V(null),Ee=V(null),Ie=V(null);function st(t,i){switch(ae(Ee,i),ae(ce,t),ae(K,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=mv(i),t=pv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(K),ae(K,t)}function at(){W(K),W(ce),W(Ee)}function vs(t){t.memoizedState!==null&&ae(Ie,t);var i=K.current,a=pv(i,t.type);i!==a&&(ae(ce,t),ae(K,a))}function da(t){ce.current===t&&(W(K),W(ce)),Ie.current===t&&(W(Ie),Vl._currentValue=me)}var ma,pa;function ui(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Vo=!1;function Es(t,i){if(!t||Vo)return"";Vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var q=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){q=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){q=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var N=_.split(`
`),B=A.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Vo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function ko(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return ui("Activity");default:return""}}function Lo(t){try{var i="",a=null;do i+=ko(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,pf=r.unstable_shouldYield,Tu=r.unstable_requestPaint,tn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,Po=r.unstable_UserBlockingPriority,Ar=r.unstable_NormalPriority,gf=r.unstable_LowPriority,bu=r.unstable_IdlePriority,Au=r.log,Su=r.unstable_setDisableYieldValue,Hn=null,Bt=null;function Rn(t){if(typeof Au=="function"&&Su(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:xu,wu=Math.log,ga=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(wu(t)/ga|0)|0}var ci=256,bs=262144,Tt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=hi(l):(_&=A,_!==0?h=hi(_):a||(a=A&~t,a!==0&&(h=hi(a))))):(A=l&~d,A!==0?h=hi(A):_!==0?h=hi(_):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _f(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-mt(a),ee=1<<$;A[$]=0,N[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&Ss(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function zo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function Gn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,jt="__reactProps$"+Qn,mi="__reactContainer$"+Qn,ya="__reactEvents$"+Qn,vf="__reactListeners$"+Qn,Iu="__reactHandles$"+Qn,Nu="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function _a(t){delete t[bt],delete t[jt],delete t[ya],delete t[vf],delete t[Iu]}function gi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[bt])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[bt]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[pi]=!0}var Bo=new Set,qo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(qo[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Du(t){return Et.call(Go,t)?!0:Et.call(Fo,t)?!1:Ho.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function va(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=Qo(t,i,""+t[i])}}function xs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function an(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,h,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ko(t,_,Pt(i)):a!=null?Ko(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Pt(A):t.removeAttribute("name")}function Ou(t,i,a,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ko(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function xr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $o(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Xo=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ti=null;function Cs(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xs(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var Aa=!1;function Ir(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var l=t(i);return l}finally{if(Aa=!1,(Cr!==null||Ti!==null)&&(Cc(),Cr&&(i=Cr,t=Ti,Ti=Cr=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Nn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Is=!1}var bi=null,Jo=null,Ns=null;function Zo(){if(Ns)return Ns;var t,i=Jo,a=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function $n(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:$n,this.isPropagationStopped=$n,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=qt(Gi),Nr=b({},Gi,{view:0,detail:0}),Wo=qt(Nr),Dr,Sa,Si,wa=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Dr=t.screenX-Si.screenX,Sa=t.screenY-Si.screenY):Sa=Dr=0,Si=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),el=qt(wa),Os=b({},wa,{dataTransfer:0}),Lu=qt(Os),ju=b({},Nr,{relatedTarget:0}),Ms=qt(ju),tl=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=qt(tl),xa=b({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=qt(xa),zu=b({},Gi,{data:0}),wi=qt(zu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Or(){return Fu}var nn=b({},Nr,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=qt(nn),Qu=b({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=qt(Qu),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=qt(c),v=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(v),U=b({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=qt(U),se=b({},Gi,{newState:0,oldState:0}),xe=qt(se),pt=[9,13,27,32],He=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ot,xi=Nn&&(!He||ot&&8<ot&&11>=ot),Xn=" ",Jn=!1;function Vs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function mA(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Jn?null:t;default:return null}}function pA(t,i){if(Ca)return t==="compositionend"||!He&&Vs(t,i)?(t=Zo(),Ns=Jo=bi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!gA[t.type]:i==="textarea"}function xg(t,i,a,l){Cr?Ti?Ti.push(l):Ti=[l]:Cr=l,i=kc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var nl=null,il=null;function yA(t){lv(t,0)}function Ku(t){var i=gn(t);if(xs(i))return t}function Rg(t,i){if(t==="change")return i}var Cg=!1;if(Nn){var Ef;if(Nn){var Tf="oninput"in document;if(!Tf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Tf=typeof Ig.oninput=="function"}Ef=Tf}else Ef=!1;Cg=Ef&&(!document.documentMode||9<document.documentMode)}function Ng(){nl&&(nl.detachEvent("onpropertychange",Dg),il=nl=null)}function Dg(t){if(t.propertyName==="value"&&Ku(il)){var i=[];xg(i,il,t,In(t)),Ir(yA,i)}}function _A(t,i,a){t==="focusin"?(Ng(),nl=i,il=a,nl.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function vA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(il)}function EA(t,i){if(t==="click")return Ku(i)}function TA(t,i){if(t==="input"||t==="change")return Ku(i)}function bA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:bA;function rl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,i){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var AA=Nn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Af=null,sl=null,Sf=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Ia==null||Ia!==Ei(l)||(l=Ia,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&rl(sl,l)||(sl=l,l=kc(Af,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},wf={},jg={};Nn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ls(t){if(wf[t])return wf[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return wf[t]=i[a];return t}var Pg=Ls("animationend"),Ug=Ls("animationiteration"),zg=Ls("animationstart"),SA=Ls("transitionrun"),wA=Ls("transitionstart"),xA=Ls("transitioncancel"),Bg=Ls("transitionend"),qg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Zn(t,i){qg.set(t,i),_i(i,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,Rf=0;function $u(){for(var t=Da,i=Rf=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function Xu(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return Xu(t,i,a,l),Ju(t)}function js(t,i){return Xu(t,null,null,i),Ju(t)}function Hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(t){if(50<Rl)throw Rl=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function RA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new RA(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=OS(t,a,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=d,t;case J:return Ps(a.children,h,d,i);case F:_=8,h|=24;break;case ne:return t=vn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case be:return t=vn(13,a,i,h),t.elementType=be,t.lanes=d,t;case ue:return t=vn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case _e:_=11;break e;case C:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Nf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Gg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Qg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Lo(i)},Qg.set(t,i),i)}return{value:t,source:i,stack:Lo(i)}}var Ma=[],Va=0,Wu=null,al=0,Vn=[],kn=0,Mr=null,Ri=1,Ci="";function Yi(t,i){Ma[Va++]=al,Ma[Va++]=Wu,Wu=t,al=i}function Kg(t,i,a){Vn[kn++]=Ri,Vn[kn++]=Ci,Vn[kn++]=Mr,Mr=t;var l=Ri;t=Ci;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-mt(i)+h|a<<h|l,Ci=d+t}else Ri=1<<d|a<<h|l,Ci=t}function Of(t){t.return!==null&&(Yi(t,1),Kg(t,1,0))}function Mf(t){for(;t===Wu;)Wu=Ma[--Va],Ma[Va]=null,al=Ma[--Va],Ma[Va]=null;for(;t===Mr;)Mr=Vn[--kn],Vn[kn]=null,Ci=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null}function Yg(t,i){Vn[kn++]=Ri,Vn[kn++]=Ci,Vn[kn++]=Mr,Ri=i.id,Ci=i.overflow,Mr=t}var Ht=null,it=null,Pe=!1,Vr=null,Ln=!1,Vf=Error(s(519));function kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Mn(i,t)),Vf}function $g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[jt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)De(Il[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),xr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||kr(t,!0)}function Xg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function ka(t){if(t!==Ht)return!1;if(!Pe)return Xg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&it&&kr(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Tv(t)}else i===27?(i=it,$r(t.type)?(t=im,im=null,it=t):it=i):it=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Us(){it=Ht=null,Pe=!1}function kf(){var t=Vr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Vr=null),t}function ol(t){Vr===null?Vr=[t]:Vr.push(t)}var Lf=V(null),zs=null,$i=null;function Lr(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=Lf.current,W(Lf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ie.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&Pf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Jg(zs,t)}function tc(t,i){return zs===null&&Bs(t),Jg(t,i)}function Jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var CA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},IA=r.unstable_scheduleCallback,NA=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new CA,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&IA(NA,function(){t.controller.abort()})}var ul=null,zf=0,ja=0,Pa=null;function DA(t,i){if(ul===null){var a=ul=[];zf=0,ja=Hd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(Zg,Zg),i}function Zg(){if(--zf===0&&ul!==null){Pa!==null&&(Pa.status="fulfilled");var t=ul;ul=null,ja=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function OA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=Y.S;Y.S=function(t,i){L_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&DA(t,i),Wg!==null&&Wg(t,i)};var qs=V(null);function Bf(){var t=qs.current;return t!==null?t:et.pooledCache}function nc(t,i){i===null?ae(qs,qs.current):ae(qs,i.pool)}function ey(){var t=Bf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ua=Error(s(460)),qf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw Fs=i,Ua}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Ua):a}}var Fs=null;function iy(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function ry(t){if(t===Ua||t===ic)throw Error(s(483))}var za=null,cl=0;function sc(t){var i=cl;return cl+=1,za===null&&(za=[]),ny(za,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sy(t){function i(j,M){if(t){var z=j.deletions;z===null?(j.deletions=[M],j.flags|=16):z.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Ki(j,M),j.index=0,j.sibling=null,j}function d(j,M,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<M?(j.flags|=67108866,M):z):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function A(j,M,z,X){return M===null||M.tag!==6?(M=Nf(z,j.mode,X),M.return=j,M):(M=h(M,z),M.return=j,M)}function N(j,M,z,X){var pe=z.type;return pe===J?$(j,M,z.props.children,X,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Hs(pe)===M.type)?(M=h(M,z.props),hl(M,z),M.return=j,M):(M=Zu(z.type,z.key,z.props,null,j.mode,X),hl(M,z),M.return=j,M)}function B(j,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Df(z,j.mode,X),M.return=j,M):(M=h(M,z.children||[]),M.return=j,M)}function $(j,M,z,X,pe){return M===null||M.tag!==7?(M=Ps(z,j.mode,X,pe),M.return=j,M):(M=h(M,z),M.return=j,M)}function ee(j,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nf(""+M,j.mode,z),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=Zu(M.type,M.key,M.props,null,j.mode,z),hl(z,M),z.return=j,z;case Q:return M=Df(M,j.mode,z),M.return=j,M;case x:return M=Hs(M),ee(j,M,z)}if(dt(M)||L(M))return M=Ps(M,j.mode,z,null),M.return=j,M;if(typeof M.then=="function")return ee(j,sc(M),z);if(M.$$typeof===re)return ee(j,tc(j,M),z);ac(j,M)}return null}function q(j,M,z,X){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:A(j,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===pe?N(j,M,z,X):null;case Q:return z.key===pe?B(j,M,z,X):null;case x:return z=Hs(z),q(j,M,z,X)}if(dt(z)||L(z))return pe!==null?null:$(j,M,z,X,null);if(typeof z.then=="function")return q(j,M,sc(z),X);if(z.$$typeof===re)return q(j,M,tc(j,z),X);ac(j,z)}return null}function G(j,M,z,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(z)||null,A(M,j,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return j=j.get(X.key===null?z:X.key)||null,N(M,j,X,pe);case Q:return j=j.get(X.key===null?z:X.key)||null,B(M,j,X,pe);case x:return X=Hs(X),G(j,M,z,X,pe)}if(dt(X)||L(X))return j=j.get(z)||null,$(M,j,X,pe,null);if(typeof X.then=="function")return G(j,M,z,sc(X),pe);if(X.$$typeof===re)return G(j,M,z,tc(M,X),pe);ac(M,X)}return null}function fe(j,M,z,X){for(var pe=null,Be=null,de=M,Ce=M=0,Me=null;de!==null&&Ce<z.length;Ce++){de.index>Ce?(Me=de,de=null):Me=de.sibling;var qe=q(j,de,z[Ce],X);if(qe===null){de===null&&(de=Me);break}t&&de&&qe.alternate===null&&i(j,de),M=d(qe,M,Ce),Be===null?pe=qe:Be.sibling=qe,Be=qe,de=Me}if(Ce===z.length)return a(j,de),Pe&&Yi(j,Ce),pe;if(de===null){for(;Ce<z.length;Ce++)de=ee(j,z[Ce],X),de!==null&&(M=d(de,M,Ce),Be===null?pe=de:Be.sibling=de,Be=de);return Pe&&Yi(j,Ce),pe}for(de=l(de);Ce<z.length;Ce++)Me=G(de,j,Ce,z[Ce],X),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?Ce:Me.key),M=d(Me,M,Ce),Be===null?pe=Me:Be.sibling=Me,Be=Me);return t&&de.forEach(function(es){return i(j,es)}),Pe&&Yi(j,Ce),pe}function ye(j,M,z,X){if(z==null)throw Error(s(151));for(var pe=null,Be=null,de=M,Ce=M=0,Me=null,qe=z.next();de!==null&&!qe.done;Ce++,qe=z.next()){de.index>Ce?(Me=de,de=null):Me=de.sibling;var es=q(j,de,qe.value,X);if(es===null){de===null&&(de=Me);break}t&&de&&es.alternate===null&&i(j,de),M=d(es,M,Ce),Be===null?pe=es:Be.sibling=es,Be=es,de=Me}if(qe.done)return a(j,de),Pe&&Yi(j,Ce),pe;if(de===null){for(;!qe.done;Ce++,qe=z.next())qe=ee(j,qe.value,X),qe!==null&&(M=d(qe,M,Ce),Be===null?pe=qe:Be.sibling=qe,Be=qe);return Pe&&Yi(j,Ce),pe}for(de=l(de);!qe.done;Ce++,qe=z.next())qe=G(de,j,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ce:qe.key),M=d(qe,M,Ce),Be===null?pe=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(HS){return i(j,HS)}),Pe&&Yi(j,Ce),pe}function We(j,M,z,X){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===J){if(M.tag===7){a(j,M.sibling),X=h(M,z.props.children),X.return=j,j=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Hs(pe)===M.type){a(j,M.sibling),X=h(M,z.props),hl(X,z),X.return=j,j=X;break e}a(j,M);break}else i(j,M);M=M.sibling}z.type===J?(X=Ps(z.props.children,j.mode,X,z.key),X.return=j,j=X):(X=Zu(z.type,z.key,z.props,null,j.mode,X),hl(X,z),X.return=j,j=X)}return _(j);case Q:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(j,M.sibling),X=h(M,z.children||[]),X.return=j,j=X;break e}else{a(j,M);break}else i(j,M);M=M.sibling}X=Df(z,j.mode,X),X.return=j,j=X}return _(j);case x:return z=Hs(z),We(j,M,z,X)}if(dt(z))return fe(j,M,z,X);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),ye(j,M,z,X)}if(typeof z.then=="function")return We(j,M,sc(z),X);if(z.$$typeof===re)return We(j,M,tc(j,z),X);ac(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(j,M.sibling),X=h(M,z),X.return=j,j=X):(a(j,M),X=Nf(z,j.mode,X),X.return=j,j=X),_(j)):a(j,M)}return function(j,M,z,X){try{cl=0;var pe=We(j,M,z,X);return za=null,pe}catch(de){if(de===Ua||de===ic)throw de;var Be=vn(29,de,null,j.mode);return Be.lanes=X,Be.return=j,Be}finally{}}}var Gs=sy(!0),ay=sy(!1),jr=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(t),Hg(t,null,a),i}return Xu(t,l,i,a),Ju(t)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function Gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qf=!1;function dl(){if(Qf){var t=Pa;if(t!==null)throw t}}function ml(t,i,a,l){Qf=!1;var h=t.updateQueue;jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=B:A.next=B,$.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,$=B=N=null,A=d;do{var q=A.lane&-536870913,G=q!==A.lane;if(G?(Oe&q)===q:(l&q)===q){q!==0&&q===ja&&(Qf=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,ye=A;q=i;var We=a;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){ee=fe.call(We,ee,q);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,q=typeof fe=="function"?fe.call(We,ee,q):fe,q==null)break e;ee=b({},ee,q);break e;case 2:jr=!0}}q=A.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(B=$=G,N=ee):$=$.next=G,_|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;G=A,A=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=ee}}function oy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ly(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)oy(a[t],i)}var Ba=V(null),oc=V(0);function uy(t,i){t=sr,ae(oc,t),ae(Ba,i),sr=t|i.baseLanes}function Kf(){ae(oc,sr),ae(Ba,Ba.current)}function Yf(){sr=oc.current,W(Ba),W(oc)}var En=V(null),jn=null;function zr(t){var i=t.alternate;ae(gt,gt.current&1),ae(En,t),jn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(jn=t)}function $f(t){ae(gt,gt.current),ae(En,t),jn===null&&(jn=t)}function cy(t){t.tag===22?(ae(gt,gt.current),ae(En,t),jn===null&&(jn=t)):Br()}function Br(){ae(gt,gt.current),ae(En,En.current)}function Tn(t){W(En),jn===t&&(jn=null),W(gt)}var gt=V(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Re=null,Je=null,xt=null,uc=!1,qa=!1,Qs=!1,cc=0,pl=0,Ha=null,MA=0;function ht(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return Ji=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Ky:fd,Qs=!1,d=a(l,h),Qs=!1,qa&&(d=fy(i,a,l,h)),hy(t),d}function hy(t){Y.H=_l;var i=Je!==null&&Je.next!==null;if(Ji=0,xt=Je=Re=null,uc=!1,pl=0,Ha=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ec(t)&&(Rt=!0))}function fy(t,i,a,l){Re=t;var h=0;do{if(qa&&(Ha=null),pl=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,xt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Yy,d=i(a,l)}while(qa);return d}function VA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?gl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function Zf(){var t=cc!==0;return cc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ed(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Ji=0,xt=Je=Re=null,qa=!1,pl=cc=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Re.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=xt===null?Re.memoizedState:xt.next;if(i!==null)xt=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?Re.memoizedState=xt=t:xt=xt.next=t}return xt}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var i=pl;return pl+=1,Ha===null&&(Ha=[]),t=ny(Ha,t,i),i=Re,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ky:fd),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===re)return Ft(t)}throw Error(s(438,String(t)))}function td(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=yt();return nd(i,Je,t)}function nd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=_=null,N=null,B=i,$=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Oe&ee)===ee:(Ji&ee)===ee){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===ja&&($=!0);else if((Ji&q)===q){B=B.next,q===ja&&($=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(A=N=ee,_=d):N=N.next=ee,Re.lanes|=q,Fr|=q;ee=B.action,Qs&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(A=N=q,_=d):N=N.next=q,Re.lanes|=ee,Fr|=ee;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=A,!_n(d,t.memoizedState)&&(Rt=!0,$&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function id(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(t,i,a){var l=Re,h=yt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,ad(gy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},py.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Ji&127)!==0||my(l,i,a)}return a}function my(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=hc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function py(t,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(t)}function gy(t,i,a){return a(function(){yy(i)&&_y(t)})}function yy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function _y(t){var i=js(t,2);i!==null&&fn(i,t,2)}function rd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function vy(t,i,a,l){return t.baseState=a,nd(t,Je,typeof l=="function"?l:Zi)}function kA(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var A=a(h,l),N=Y.S;N!==null&&N(_,A),Ty(t,i,A)}catch(B){sd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Ty(t,i,d)}catch(B){sd(t,i,B)}}function Ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,i,l)},function(l){return sd(t,i,l)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,Ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ey(t,a)))}function sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}t.action=null}function Ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function wy(t,i){if(Pe){var a=et.formState;if(a!==null){e:{var l=Re;if(Pe){if(it){t:{for(var h=it,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),l=h.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Re,l),l.dispatch=a,l=rd(!1),d=hd.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=kA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function xy(t){var i=yt();return Ry(i,Je,t)}function Ry(t,i,a){if(i=nd(t,i,Sy)[0],t=dc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(_){throw _===Ua?ic:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Fa(9,{destroy:void 0},LA.bind(null,h,a),null)),[l,d,t]}function LA(t,i){t.action=i}function Cy(t){var i=yt(),a=Je;if(a!==null)return Ry(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=hc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Iy(){return yt().memoizedState}function mc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Xf(l,Je.memoizedState.deps)?h.memoizedState=Fa(i,d,a,l):(Re.flags|=t,h.memoizedState=Fa(1|i,d,a,l))}function Ny(t,i){mc(8390656,8,t,i)}function ad(t,i){pc(2048,8,t,i)}function jA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=hc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Dy(t){var i=yt().memoizedState;return jA({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(t,i){return pc(4,2,t,i)}function My(t,i){return pc(4,4,t,i)}function Vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ky(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,Vy.bind(null,i,t),a)}function od(){}function Ly(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function ld(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=P_(),Re.lanes|=t,Fr|=t,a)}function Py(t,i,a,l){return _n(a,i)?a:Ba.current!==null?(t=ld(t,a,l),_n(t,i)||(Rt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=P_(),Re.lanes|=t,Fr|=t,i)}function Uy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=Y.T,A={};Y.T=A,hd(t,!1,i,a);try{var N=h(),B=Y.S;if(B!==null&&B(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=OA(N,l);yl(t,i,$,Sn(t))}else yl(t,i,l,Sn(t))}catch(ee){yl(t,i,{then:function(){},status:"rejected",reason:ee},Sn())}finally{oe.p=d,_!==null&&A.types!==null&&(_.types=A.types),Y.T=_}}function PA(){}function ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=zy(t).queue;Uy(t,h,i,me,a===null?PA:function(){return By(t),a(l)})}function zy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function By(t){var i=zy(t);i.next===null&&(i=t.alternate.memoizedState),yl(t,i.next.queue,{},Sn())}function cd(){return Ft(Vl)}function qy(){return yt().memoizedState}function Hy(){return yt().memoizedState}function UA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Pr(a);var l=Ur(i,t,a);l!==null&&(fn(l,i,a),fl(l,i,a)),i={cache:Uf()},t.payload=i;return}i=i.return}}function zA(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Gy(i,a):(a=Cf(t,i,a,l),a!==null&&(fn(a,t,l),Qy(a,i,l)))}function Fy(t,i,a){var l=Sn();yl(t,i,a,l)}function yl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Gy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(h.hasEagerState=!0,h.eagerState=A,_n(A,_))return Xu(t,i,h,0),et===null&&$u(),!1}catch{}finally{}if(a=Cf(t,i,h,l),a!==null)return fn(a,t,l),Qy(a,i,l),!0}return!1}function hd(t,i,a,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&fn(i,t,2)}function gc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Gy(t,i){qa=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var _l={readContext:Ft,use:fc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};_l.useEffectEvent=ht;var Ky={readContext:Ft,use:fc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Ny,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Qs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=rd(t);var i=t.queue,a=Fy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,i){var a=rn();return ld(a,t,i)},useTransition:function(){var t=rd(!1);return t=Uy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||my(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ny(gy.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Pe){var a=Ci,l=Ri;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=MA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:wy,useActionState:wy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:td,useCacheRefresh:function(){return rn().memoizedState=UA.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:Ft,use:fc,useCallback:Ly,useContext:Ft,useEffect:ad,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:jy,useReducer:dc,useRef:Iy,useState:function(){return dc(Zi)},useDebugValue:od,useDeferredValue:function(t,i){var a=yt();return Py(a,Je.memoizedState,t,i)},useTransition:function(){var t=dc(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:cd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=yt();return vy(a,Je,t,i)},useMemoCache:td,useCacheRefresh:Hy};fd.useEffectEvent=Dy;var Yy={readContext:Ft,use:fc,useCallback:Ly,useContext:Ft,useEffect:ad,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:jy,useReducer:id,useRef:Iy,useState:function(){return id(Zi)},useDebugValue:od,useDeferredValue:function(t,i){var a=yt();return Je===null?ld(a,t,i):Py(a,Je.memoizedState,t,i)},useTransition:function(){var t=id(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:cd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,i){var a=yt();return Je!==null?vy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Hy};Yy.useEffectEvent=Dy;function dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(fn(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(fn(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(fn(i,t,a),fl(i,t,a))}};function $y(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(h,d):!0}function Xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Jy(t){Yu(t)}function Zy(t){console.error(t)}function Wy(t){Yu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function t_(t){return t=Pr(t),t.tag=3,t}function n_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){e_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){e_(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function BA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Ic():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Ic(),!1}if(Pe)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),ol(Mn(t,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),ol(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=pd(t.stateNode,l,h),Gf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),xl===null?xl=[d]:xl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,l,t),Gf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=t_(h),n_(h,t,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),Rt=!1;function Gt(t,i,a,l){i.child=t===null?ay(i,null,a,l):Gs(i,t.child,a,l)}function i_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Bs(i),l=Jf(t,i,a,_,d,h),A=Zf(),t!==null&&!Rt?(Wf(t,i,h),Wi(t,i,h)):(Pe&&A&&Of(i),i.flags|=1,Gt(t,i,l,h),i.child)}function r_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(t,i,d,l,h)):(t=Zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function s_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return yd(t,i,a,l,h)}function a_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return o_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):Kf(),cy(i);else return l=i.lanes=536870912,o_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),uy(i,d),Br(),i.memoizedState=null):(t!==null&&nc(i,null),Kf(),Br());return Gt(t,i,h,a),i.child}function vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(t,i,a,l,h){var d=Bf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Kf(),cy(i),t!==null&&La(t,i,l,!0),i.childLanes=h,null}function _c(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function l_(t,i,a){return Gs(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function qA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,vl(null,t);if($f(i),(t=it)?(t=Ev(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=l_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||La(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=et,l!==null&&(_=zo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),fn(l,t,_),gd;Ic(),i=l_(t,i,a)}else t=d.treeContext,it=Pn(_.nextSibling),Ht=i,Pe=!0,Vr=null,Ln=!1,t!==null&&Yg(i,t),i=_c(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,h){return Bs(i),a=Jf(t,i,a,l,void 0,h),l=Zf(),t!==null&&!Rt?(Wf(t,i,h),Wi(t,i,h)):(Pe&&l&&Of(i),i.flags|=1,Gt(t,i,a,h),i.child)}function u_(t,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=fy(i,l,a,h),hy(t),l=Zf(),t!==null&&!Rt?(Wf(t,i,d),Wi(t,i,d)):(Pe&&l&&Of(i),i.flags|=1,Gt(t,i,a,d),i.child)}function c_(t,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Hf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),ml(i,l,d,h),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=Ks(a,A);d.props=N;var B=d.context,$=a.contextType;_=Oa,typeof $=="object"&&$!==null&&(_=Ft($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&Xy(i,d,l,_),jr=!1;var q=i.memoizedState;d.state=q,ml(i,l,d,h),dl(),B=i.memoizedState,A||q!==B||jr?(typeof ee=="function"&&(dd(i,a,ee,l),B=i.memoizedState),(N=jr||$y(i,a,N,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ff(t,i),_=i.memoizedProps,$=Ks(a,_),d.props=$,ee=i.pendingProps,q=d.context,B=a.contextType,N=Oa,typeof B=="object"&&B!==null&&(N=Ft(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||q!==N)&&Xy(i,d,l,N),jr=!1,q=i.memoizedState,d.state=q,ml(i,l,d,h),dl();var G=i.memoizedState;_!==ee||q!==G||jr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof A=="function"&&(dd(i,a,A,l),G=i.memoizedState),($=jr||$y(i,a,$,l,q,G,N)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function h_(t,i,a,l){return Us(),i.flags|=256,Gt(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:ey()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function f_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?zr(i):Br(),(t=it)?(t=Ev(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Br(),h=i.mode,A=Ec({mode:"hidden",children:A},h),l=Ps(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,vl(null,l)):(zr(i),Td(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=bd(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),A=l.fallback,h=i.mode,l=Ec({mode:"visible",children:l.children},h),A=Ps(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,i=vl(null,l));else if(zr(i),nm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),i=bd(t,i,a)}else if(Rt||La(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=zo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),fn(_,t,l),gd;tm(A)||Ic(),i=bd(t,i,a)}else tm(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=Pn(A.nextSibling),Ht=i,Pe=!0,Vr=null,Ln=!1,t!==null&&Yg(i,t),i=Td(i,l.children),i.flags|=4096);return i}return h?(Br(),A=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?A=Ki(B,A):(A=Ps(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,vl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=vd(a):(h=A.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ey(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=Ed(t,_,a),i.memoizedState=_d,vl(t.child,l)):(zr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function bd(t,i,a){return Gs(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function d_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function Ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function m_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Gt(t,i,l,a),l=Pe?al:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,a,i);else if(t.tag===19)d_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function HA(t,i,a){switch(i.tag){case 3:st(i,i.stateNode.containerInfo),Lr(i,wt,t.memoizedState.cache),Us();break;case 27:case 5:vs(i);break;case 4:st(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(t,i,a):(zr(i),t=Wi(t,i,a),t!==null?t.sibling:null);zr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return m_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,a_(t,i,a,i.pendingProps);case 24:Lr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function p_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Rt=!1,HA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&Kg(i,al,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Ks(t,l),i.tag=1,i=c_(null,i,t,l,a)):(i.tag=0,i=yd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=i_(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=r_(null,i,t,l,a);break e}}throw i=tt(t)||t,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),c_(t,i,l,h,a);case 3:e:{if(st(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ff(t,i),ml(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Lr(i,wt,l),l!==d.cache&&Pf(i,[wt],a,!0),dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),ol(h),i=h_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Pn(t.firstChild),Ht=i,Pe=!0,Vr=null,Ln=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),l===h){i=Wi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=xv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Lc(Ee.current).createElement(a),l[bt]=i,l[jt]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=xv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vs(i),t===null&&Pe&&(l=i.stateNode=Av(i.type,i.pendingProps,Ee.current),Ht=i,Ln=!0,h=it,$r(i.type)?(im=h,it=Pn(l.firstChild)):it=h),Gt(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=it)&&(l=vS(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Ht=i,it=Pn(l.firstChild),Ln=!1,h=!0):h=!1),h||kr(i)),vs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Zd(h,d)?l=null:_!==null&&Zd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,VA,null,null,a),Vl._currentValue=h),vc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=ES(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||kr(i)),null;case 13:return f_(t,i,a);case 4:return st(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return i_(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return r_(t,i,i.type,i.pendingProps,a);case 15:return s_(t,i,i.type,i.pendingProps,a);case 19:return m_(t,i,a);case 31:return qA(t,i,a);case 22:return a_(t,i,a,i.pendingProps);case 24:return Bs(i),l=Ft(wt),t===null?(h=Bf(),h===null&&(h=et,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Hf(i),Lr(i,wt,h)):((t.lanes&a)!==0&&(Ff(t,i),ml(i,null,null,a),dl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Lr(i,wt,l)):(l=d.cache,Lr(i,wt,l),l!==h.cache&&Pf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function wd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(q_())t.flags|=8192;else throw Fs=rc,qf}else t.flags&=-16777217}function g_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(i))if(q_())t.flags|=8192;else throw Fs=rc,qf}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ya|=i)}function El(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function FA(t,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(rt(i),g_(i,d)):(rt(i),wd(i,h,null,l,a))):d?d!==t.memoizedState?(er(i),rt(i),g_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),rt(i),wd(i,h,t,l,a)),null;case 27:if(da(i),a=Ee.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=K.current,ka(i)?$g(i):(t=Av(h,l,a),i.stateNode=t,er(i))}return rt(i),null;case 5:if(da(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=K.current,ka(i))$g(i);else{var _=Lc(Ee.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return rt(i),wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ee.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,a)),t||kr(i,!0)}else t=Lc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Kd(i.stateNode.containerInfo),rt(i),null;case 10:return Xi(i.type),rt(i),null;case 19:if(W(gt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)El(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,El(l,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fg(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Pe&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>xc&&(i.flags|=128,h=!0,El(l,!1),i.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*tn()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,El(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=gt.current,ae(gt,h?a&1|2:a&1),Pe&&Yi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),Yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GA(t,i){switch(Mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(gt),null;case 4:return at(),null;case 10:return Xi(i.type),null;case 22:case 23:return Tn(i),Yf(),t!==null&&W(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(wt),null;case 25:return null;default:return null}}function y_(t,i){switch(Mf(i),i.tag){case 3:Xi(wt),at();break;case 26:case 27:case 5:da(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:W(gt);break;case 10:Xi(i.type);break;case 22:case 23:Tn(i),Yf(),t!==null&&W(qs);break;case 24:Xi(wt)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(A){$e(i,i.return,A)}}function qr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var N=a,B=A;try{B()}catch($){$e(h,N,$)}}}l=l.next}while(l!==d)}}catch($){$e(i,i.return,$)}}function __(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ly(i,a)}catch(l){$e(t,t.return,l)}}}function v_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function E_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function xd(t,i,a){try{var l=t.stateNode;dS(l,t.type,a,i),l[jt]=i}catch(h){$e(t,t.return,h)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cd(t,i,a),t=t.sibling;t!==null;)Cd(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function b_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[bt]=t,i[jt]=a}catch(d){$e(t,t.return,d)}}var tr=!1,Ct=!1,Id=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function QA(t,i){if(t=t.containerInfo,Xd=Hc,t=kg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,N=-1,B=0,$=0,ee=t,q=null;t:for(;;){for(var G;ee!==a||h!==0&&ee.nodeType!==3||(A=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(G=ee.firstChild)!==null;)q=ee,ee=G;for(;;){if(ee===t)break t;if(q===a&&++B===h&&(A=_),q===d&&++$===l&&(N=_),(G=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=G}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Hc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){$e(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function S_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Tl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&__(a),l&512&&bl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&b_(a);case 26:case 5:ir(t,a),i===null&&l&4&&E_(a),l&512&&bl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&R_(t,a);break;case 13:ir(t,a),l&4&&C_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tS.bind(null,a),TS(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Ct,h=tr;var d=Ct;tr=l,(Ct=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=h,Ct=d}break;case 30:break;default:ir(t,a)}}function w_(t){var i=t.alternate;i!==null&&(t.alternate=null,w_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function nr(t,i,a){for(a=a.child;a!==null;)x_(t,i,a),a=a.sibling}function x_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||Ii(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ii(a,i);var l=lt,h=ln;$r(a.type)&&(lt=a.stateNode,ln=!1),nr(t,i,a),Dl(a.stateNode),lt=l,ln=h;break;case 5:Ct||Ii(a,i);case 6:if(l=lt,h=ln,lt=null,nr(t,i,a),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,_v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):_v(lt,a.stateNode));break;case 4:l=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,nr(t,i,a),lt=l,ln=h;break;case 0:case 11:case 14:case 15:qr(2,a,i),Ct||qr(4,a,i),nr(t,i,a);break;case 1:Ct||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,nr(t,i,a),Ct=l;break;default:nr(t,i,a)}}function R_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){$e(i,i.return,a)}}}function C_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){$e(i,i.return,a)}}function KA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new A_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new A_),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=KA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=nS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if($r(A.type)){lt=A.stateNode,ln=!1;break e}break;case 5:lt=A.stateNode,ln=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,ln=!0;break e}A=A.return}if(lt===null)throw Error(s(160));x_(d,_,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)I_(i,t),i=i.sibling}var Wn=null;function I_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(qr(3,t,t.return),Tl(3,t),qr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[bt]=t,At(d),l=d;break e;case"link":var _=Iv("link","href",h).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Iv("meta","content",h).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,At(d),l=d}t.stateNode=l}else Nv(h,t.type,t.stateNode);else t.stateNode=Cv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Nv(h,t.type,t.stateNode):Cv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(Uc=null,h=Wn,Wn=jc(i.containerInfo),un(i,t),Wn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(fe){$e(t,t.return,fe)}Id&&(Id=!1,N_(t));break;case 4:l=Wn,Wn=jc(t.stateNode.containerInfo),un(i,t),cn(t),Wn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=tr,$=Ct;if(tr=B||h,Ct=$||N,un(i,t),Ct=$,tr=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||tr||Ct||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=N.stateNode;var ee=N.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;h?vv(G,!0):vv(N.stateNode,!1)}catch(fe){$e(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);bc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var A=Rd(t);bc(t,A,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Rd(t);Cd(t,B,N);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function N_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;N_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)S_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Ys(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),Ys(i);break;case 27:Dl(i.stateNode);case 26:case 5:Ii(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),Tl(4,d);break;case 1:if(rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$e(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)oy(N[h],A)}catch(B){$e(l,l.return,B)}}a&&_&64&&__(d),bl(d,d.return);break;case 27:b_(d);case 26:case 5:rr(h,d,a),a&&l===null&&_&4&&E_(d),bl(d,d.return);break;case 12:rr(h,d,a);break;case 31:rr(h,d,a),a&&_&4&&R_(h,d);break;case 13:rr(h,d,a),a&&_&4&&C_(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),bl(d,d.return);break;case 30:break;default:rr(h,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(t,i,a,l),i=i.sibling}function D_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&Tl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Al(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,i);break;case 24:ei(t,i,a,l),h&2048&&Dd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ga(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,A,N,h),Tl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ga(d,_,A,N,h):Al(d,_):($._visibility|=2,Ga(d,_,A,N,h)),h&&B&2048&&Nd(_.alternate,_);break;case 24:Ga(d,_,A,N,h),h&&B&2048&&Dd(_.alternate,_);break;default:Ga(d,_,A,N,h)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Al(a,l),h&2048&&Nd(l.alternate,l);break;case 24:Al(a,l),h&2048&&Dd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var Sl=8192;function Qa(t,i,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)O_(t,i,a),t=t.sibling}function O_(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&Sl&&t.memoizedState!==null&&MS(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=Wn;Wn=jc(t.stateNode.containerInfo),Qa(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Qa(t,i,a),Sl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function M_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,k_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):wl(t);break;default:wl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,k_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function k_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(w_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var YA={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},$A=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ne=null,Oe=0,Ye=0,bn=null,Hr=!1,Ka=!1,Od=!1,sr=0,ft=0,Fr=0,$s=0,Md=0,An=0,Ya=0,xl=null,hn=null,Vd=!1,wc=0,L_=0,xc=1/0,Rc=null,Gr=null,kt=0,Qr=null,$a=null,ar=0,kd=0,Ld=null,j_=null,Rl=0,jd=null;function Sn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Hd():Cu()}function P_(){if(An===0)if((Oe&536870912)===0||Pe){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Kr(t,Oe,An,!1)),As(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&($s|=a),ft===4&&Kr(t,Oe,An,!1)),Ni(t))}function U_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?ZA(t,i):Ud(t,i,!0),d=l;do{if(h===0){Ka&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!XA(a)){h=Ud(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=xl;var N=A.current.memoizedState.isDehydrated;if(N&&(Xa(A,_).flags|=256),_=Ud(A,_,!1),_!==2){if(Od&&!N){A.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,An,!Hr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=wc+300-tn(),10<h)){if(Kr(l,i,An,!Hr),fi(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=gv(z_.bind(null,l,a,hn,Rc,Vd,i,An,$s,Ya,Hr,d,"Throttled",-0,0),h);break e}z_(l,a,hn,Rc,Vd,i,An,$s,Ya,Hr,d,null,-0,0)}}break}while(!0);Ni(t)}function z_(t,i,a,l,h,d,_,A,N,B,$,ee,q,G){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},O_(i,d,ee);var fe=(d&62914560)===d?wc-tn():(d&4194048)===d?L_-tn():0;if(fe=VS(ee,fe),fe!==null){ar=d,t.cancelPendingCommit=fe(Y_.bind(null,t,i,d,a,l,h,_,A,N,$,ee,null,q,G)),Kr(t,d,_,!B);return}}Y_(t,i,d,a,l,h,_,A,N)}function XA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~Md,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ss(t,a,i)}function Cc(){return(Fe&6)===0?(Cl(0),!1):!0}function Pd(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,$i=zs=null,ed(t),za=null,cl=0,t=Ne;for(;t!==null;)y_(t.alternate,t),t=t.return;Ne=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Pd(),et=t,Ne=a=Ki(t.current,null),Oe=i,Ye=0,bn=null,Hr=!1,Ka=Fn(t,i),Od=!1,Ya=An=Md=$s=Fr=ft=0,hn=xl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return sr=i,$u(),a}function B_(t,i){Re=null,Y.H=_l,i===Ua||i===ic?(i=iy(),Ye=3):i===qf?(i=iy(),Ye=4):Ye=i===gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ne===null&&(ft=1,yc(t,Mn(i,t.current)))}function q_(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===jn:!1}function H_(){var t=Y.H;return Y.H=_l,t===null?_l:t}function F_(){var t=Y.A;return Y.A=YA,t}function Ic(){ft=4,Hr||(Oe&4194048)!==Oe&&En.current!==null||(Ka=!0),(Fr&134217727)===0&&($s&134217727)===0||et===null||Kr(et,Oe,An,!1)}function Ud(t,i,a){var l=Fe;Fe|=2;var h=H_(),d=F_();(et!==t||Oe!==i)&&(Rc=null,Xa(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&Ne!==null){var A=Ne,N=bn;switch(Ye){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Ye;if(Ye=0,bn=null,Ja(t,A,N,B),a&&Ka){_=0;break e}break;default:B=Ye,Ye=0,bn=null,Ja(t,A,N,B)}}JA(),_=ft;break}catch($){B_(t,$)}while(!0);return i&&t.shellSuspendCounter++,$i=zs=null,Fe=l,Y.H=h,Y.A=d,Ne===null&&(et=null,Oe=0,$u()),_}function JA(){for(;Ne!==null;)G_(Ne)}function ZA(t,i){var a=Fe;Fe|=2;var l=H_(),h=F_();et!==t||Oe!==i?(Rc=null,xc=tn()+500,Xa(t,i)):Ka=Fn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Ja(t,i,d,1);break;case 2:case 9:if(ty(d)){Ye=0,bn=null,Q_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ni(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ty(d)?(Ye=0,bn=null,Q_(i)):(Ye=0,bn=null,Ja(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?Dv(_):A.stateNode.complete){Ye=0,bn=null;var N=A.sibling;if(N!==null)Ne=N;else{var B=A.return;B!==null?(Ne=B,Nc(B)):Ne=null}break t}}Ye=0,bn=null,Ja(t,i,d,5);break;case 6:Ye=0,bn=null,Ja(t,i,d,6);break;case 8:Pd(),ft=6;break e;default:throw Error(s(462))}}WA();break}catch($){B_(t,$)}while(!0);return $i=zs=null,Y.H=l,Y.A=h,Fe=a,Ne!==null?0:(et=null,Oe=0,$u(),ft)}function WA(){for(;Ne!==null&&!pf();)G_(Ne)}function G_(t){var i=p_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Nc(t):Ne=i}function Q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:ed(i);default:y_(a,i),i=Ne=Fg(i,sr),i=p_(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Ne=i}function Ja(t,i,a,l){$i=zs=null,ed(i),za=null,cl=0;var h=i.return;try{if(BA(t,h,i,a,Oe)){ft=1,yc(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,yc(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Ka||(Oe&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){K_(i,Hr);return}t=i.return;var a=FA(i.alternate,i,sr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function K_(t,i){do{var a=GA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function Y_(t,i,a,l,h,d,_,A,N){t.cancelPendingCommit=null;do Dc();while(kt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,_f(t,a,d,_,A,N),t===et&&(Ne=et=null,Oe=0),$a=i,Qr=t,ar=a,kd=d,Ld=h,j_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iS(Ar,function(){return W_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,_=Fe,Fe|=4;try{QA(t,i,a)}finally{Fe=_,oe.p=h,Y.T=l}}kt=1,$_(),X_(),J_()}}function $_(){if(kt===1){kt=0;var t=Qr,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Fe;Fe|=4;try{I_(i,t);var d=Jd,_=kg(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Vg(A.ownerDocument.documentElement,A)){if(N!==null&&bf(A)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min($,A.value.length);else{var ee=A.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=A.textContent.length,ye=Math.min(N.start,fe),We=N.end===void 0?ye:Math.min(N.end,fe);!G.extend&&ye>We&&(_=We,We=ye,ye=_);var j=Mg(A,ye),M=Mg(A,We);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(j.node,j.offset),G.removeAllRanges(),ye>We?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(ee=[],G=A;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var X=ee[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Hc=!!Xd,Jd=Xd=null}finally{Fe=h,oe.p=l,Y.T=a}}t.current=i,kt=2}}function X_(){if(kt===2){kt=0;var t=Qr,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Fe;Fe|=4;try{S_(t,i.alternate,i)}finally{Fe=h,oe.p=l,Y.T=a}}kt=3}}function J_(){if(kt===4||kt===3){kt=0,Tu();var t=Qr,i=$a,a=ar,l=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,$a=Qr=null,Z_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gr=null),Hi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{Y.T=i,oe.p=h}}(ar&3)!==0&&Dc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jd?Rl++:(Rl=0,jd=t):Rl=0,Cl(0)}}function Z_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function Dc(){return $_(),X_(),J_(),W_()}function W_(){if(kt!==5)return!1;var t=Qr,i=kd;kd=0;var a=Hi(ar),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=Ld,Ld=null;var d=Qr,_=ar;if(kt=0,$a=Qr=null,ar=0,(Fe&6)!==0)throw Error(s(331));var A=Fe;if(Fe|=4,V_(d.current),D_(d,d.current,_,a),Fe=A,Cl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{oe.p=h,Y.T=l,Z_(t,i)}}function ev(t,i,a){i=Mn(a,i),i=pd(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(As(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)ev(t,t,a);else for(;i!==null;){if(i.tag===3){ev(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Mn(a,t),a=t_(2),l=Ur(i,a,2),l!==null&&(n_(a,l,i,t),As(l,2),Ni(l));break}}i=i.return}}function zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $A;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),t=eS.bind(null,t,i,a),i.then(t,t))}function eS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>tn()-wc?(Fe&2)===0&&Xa(t,0):Md|=a,Ya===Oe&&(Ya=0)),Ni(t)}function tv(t,i){i===0&&(i=Ru()),t=js(t,i),t!==null&&(As(t,i),Ni(t))}function tS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),tv(t,a)}function nS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),tv(t,a)}function iS(t,i){return Vt(t,i)}var Oc=null,Za=null,Bd=!1,Mc=!1,qd=!1,Yr=0;function Ni(t){t!==Za&&t.next===null&&(Za===null?Oc=Za=t:Za=Za.next=t),Mc=!0,Bd||(Bd=!0,sS())}function Cl(t,i){if(!qd&&Mc){qd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Oe,d=fi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,sv(l,d));l=l.next}while(a);qd=!1}}function rS(){nv()}function nv(){Mc=Bd=!1;var t=0;Yr!==0&&pS()&&(t=Yr);for(var i=tn(),a=null,l=Oc;l!==null;){var h=l.next,d=iv(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}kt!==0&&kt!==5||Cl(t),Yr!==0&&(Yr=0)}function iv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),A=1<<_,N=h[_];N===-1?((A&a)===0||(A&l)!==0)&&(h[_]=yf(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=et,a=Oe,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),Hi(a)){case 2:case 8:a=Po;break;case 32:a=Ar;break;case 268435456:a=bu;break;default:a=Ar}return l=rv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Oe;return l=fi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(U_(t,l,i),iv(t,tn()),t.callbackNode!=null&&t.callbackNode===a?rv.bind(null,t):null)}function sv(t,i){if(Dc())return null;U_(t,i,!0)}function sS(){yS(function(){(Fe&6)!==0?Vt(jo,rS):nv()})}function Hd(){if(Yr===0){var t=ja;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Yr=t}return Yr}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function ov(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function aS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=av((h[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Ai("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?ov(h,_):new FormData(h);ud(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=_?ov(h,_):new FormData(h),ud(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Fd=0;Fd<xf.length;Fd++){var Gd=xf[Fd],oS=Gd.toLowerCase(),lS=Gd[0].toUpperCase()+Gd.slice(1);Zn(oS,"on"+lS)}Zn(Pg,"onAnimationEnd"),Zn(Ug,"onAnimationIteration"),Zn(zg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(SA,"onTransitionRun"),Zn(wA,"onTransitionStart"),Zn(xA,"onTransitionCancel"),Zn(Bg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function lv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],N=A.instance,B=A.currentTarget;if(A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=B;try{d(h)}catch($){Yu($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(A=l[_],N=A.instance,B=A.currentTarget,A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=B;try{d(h)}catch($){Yu($)}h.currentTarget=null,d=N}}}}function De(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(uv(i,t,2,!1),a.add(l))}function Qd(t,i,a){var l=0;i&&(l|=4),uv(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Vc]){t[Vc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Qd("selectionchange",!1,i))}}function uv(t,i,a,l){switch(Pv(i)){case 2:var h=jS;break;case 8:h=PS;break;default:h=lm}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=gi(A),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Ir(function(){var B=d,$=In(a),ee=[];e:{var q=qg.get(t);if(q!==void 0){var G=Ai,fe=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":G=Gu;break;case"focusin":fe="focus",G=Ms;break;case"focusout":fe="blur",G=Ms;break;case"beforeblur":case"afterblur":G=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Pg:case Ug:case zg:G=Pu;break;case Bg:G=w;break;case"scroll":case"scrollend":G=Wo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qi;break;case"toggle":case"beforetoggle":G=xe}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),j=ye?q!==null?q+"Capture":null:q;ye=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||j===null||(X=Yn(M,j),X!=null&&ye.push(Nl(M,X,z))),We)break;M=M.return}0<ye.length&&(q=new G(q,fe,null,a,$),ee.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Xo&&(fe=a.relatedTarget||a.fromElement)&&(gi(fe)||fe[mi]))break e;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=a.relatedTarget||a.toElement,G=B,fe=fe?gi(fe):null,fe!==null&&(We=u(fe),ye=fe.tag,fe!==We||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(G=null,fe=B),G!==fe)){if(ye=el,X="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Qi,X="onPointerLeave",j="onPointerEnter",M="pointer"),We=G==null?q:gn(G),z=fe==null?q:gn(fe),q=new ye(X,M+"leave",G,a,$),q.target=We,q.relatedTarget=z,X=null,gi($)===B&&(ye=new ye(j,M+"enter",fe,a,$),ye.target=z,ye.relatedTarget=We,X=ye),We=X,G&&fe)t:{for(ye=cS,j=G,M=fe,z=0,X=j;X;X=ye(X))z++;X=0;for(var pe=M;pe;pe=ye(pe))X++;for(;0<z-X;)j=ye(j),z--;for(;0<X-z;)M=ye(M),X--;for(;z--;){if(j===M||M!==null&&j===M.alternate){ye=j;break t}j=ye(j),M=ye(M)}ye=null}else ye=null;G!==null&&cv(ee,q,G,ye,!1),fe!==null&&We!==null&&cv(ee,We,fe,ye,!0)}}e:{if(q=B?gn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Be=Rg;else if(wg(q))if(Cg)Be=TA;else{Be=vA;var de=_A}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ta(B.elementType)&&(Be=Rg):Be=EA;if(Be&&(Be=Be(t,B))){xg(ee,Be,a,$);break e}de&&de(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ko(q,"number",q.value)}switch(de=B?gn(B):window,t){case"focusin":(wg(de)||de.contentEditable==="true")&&(Ia=de,Af=B,sl=null);break;case"focusout":sl=Af=Ia=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Lg(ee,a,$);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":Lg(ee,a,$)}var Ce;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ca?Vs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(xi&&a.locale!=="ko"&&(Ca||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ca&&(Ce=Zo()):(bi=$,Jo="value"in bi?bi.value:bi.textContent,Ca=!0)),de=kc(B,Me),0<de.length&&(Me=new wi(Me,t,null,a,$),ee.push({event:Me,listeners:de}),Ce?Me.data=Ce:(Ce=Ra(a),Ce!==null&&(Me.data=Ce)))),(Ce=Dn?mA(t,a):pA(t,a))&&(Me=kc(B,"onBeforeInput"),0<Me.length&&(de=new wi("onBeforeInput","beforeinput",null,a,$),ee.push({event:de,listeners:Me}),de.data=Ce)),aS(ee,t,B,a,$)}lv(ee,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function kc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Nl(t,h,d)),h=Yn(t,i),h!=null&&l.push(Nl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function cS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,N=A.alternate,B=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||B===null||(N=B,h?(B=Yn(a,d),B!=null&&_.unshift(Nl(a,B,N))):h||(B=Yn(a,d),B!=null&&_.push(Nl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(hS,`
`).replace(fS,"")}function fv(t,i){return i=hv(i),hv(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":$o(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),va(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,va(t,a,l))}}function $d(t,i,a,l,h,d){switch(a){case"style":$o(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ze(t,i,l,$,a,null)}}Ou(t,d,A,N,B,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Ze(t,i,h,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ze(t,i,_,A,a,null)}xr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)De(Il[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,B,l,a,null)}return;default:if(Ta(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&$d(t,i,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ze(t,i,A,l,a,null))}function dS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,N=null,B=null,$=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(G)||Ze(t,i,G,null,l,ee)}}for(var q in l){var G=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(G!=null||ee!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==ee&&Ze(t,i,q,G,l,ee)}}Ea(t,_,A,N,B,$,d,h);return;case"select":G=_=A=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=A,a=_,l=G,q!=null?wr(t,!!a,q,!1):!!l!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(t,i,A,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}Mu(t,q,G);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,i,fe,null,l,q)}for(N in l)if(q=l[N],G=a[N],l.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ze(t,i,N,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Ze(t,i,ye,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ze(t,i,B,q,l,G)}return;default:if(Ta(i)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&$d(t,i,We,void 0,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q===void 0&&G===void 0||$d(t,i,$,q,l,G);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Ze(t,i,j,null,l,q);for(ee in l)q=l[ee],G=a[ee],!l.hasOwnProperty(ee)||q===G||q==null&&G==null||Ze(t,i,ee,q,l,G)}function dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&dv(_)){for(_=0,A=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>A)break;var $=N.transferSize,ee=N.initiatorType;$&&dv(ee)&&(N=N.responseEnd,_+=$*(N<A?1:(A-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Jd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function pS(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(_S)}:gv;function _S(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function _v(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Dl(t.ownerDocument.body);a=h}while(a);no(i)}function vv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function ES(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function Tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Av(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Un=new Map,Sv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=oe.d;oe.d={f:bS,r:AS,D:SS,C:wS,L:xS,m:RS,X:IS,S:CS,M:NS};function bS(){var t=or.f(),i=Cc();return t||i}function AS(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?By(i):or.r(t)}var Wa=typeof document>"u"?null:document;function wv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Sv.has(h)||(Sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function SS(t){or.D(t),wv("dns-prefetch",t,null)}function wS(t,i){or.C(t,i),wv("preconnect",t,i)}function xS(t,i,a){or.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}Un.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(Ml(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function RS(t,i){or.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Un.has(d)&&(t=b({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function CS(t,i,a){or.S(t,i,a);var l=Wa;if(l&&t){var h=yi(l).hoistableStyles,d=eo(t);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Ol(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&rm(t,a);var N=_=l.createElement("link");At(N),Qt(N,"link",t),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function IS(t,i){or.X(t,i);var a=Wa;if(a&&t){var l=yi(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=b({src:t,async:!0},i),(i=Un.get(h))&&sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function NS(t,i){or.M(t,i);var a=Wa;if(a&&t){var l=yi(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xv(t,i,a,l){var h=(h=Ee.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ol(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||DS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+an(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Rv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function to(t){return'[src="'+an(t)+'"]'}function Ml(t){return"script[async]"+t}function Cv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=eo(a.href);var d=t.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=Rv(a),(h=Un.get(h))&&rm(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(h=t.querySelector(Ml(d)))?(i.instance=h,At(h),h):(l=a,(h=Un.get(d))&&(l=b({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function Iv(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function Nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function OS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(l.href),d=i.querySelector(Ol(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=Rv(l),(h=Un.get(h))&&rm(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function VS(t,i){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*mS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(kS,t),Bc=null,zc.call(t))}function kS(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function LS(t,i,a,l,h,d,_,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ov(t,i,a,l,h,d,_,A,N,B,$,ee){return t=new LS(t,i,a,_,N,B,$,ee,A),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Hf(d),t}function Mv(t){return t?(t=Oa,t):Oa}function Vv(t,i,a,l,h,d){h=Mv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(fn(a,t,i),fl(a,t,i))}function kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){kv(t,i),(t=t.alternate)&&kv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&fn(i,t,67108864),om(t,67108864)}}function jv(t){if(t.tag===13||t.tag===31){var i=Sn();i=ws(i);var a=js(t,i);a!==null&&fn(a,t,i),om(t,i)}}var Hc=!0;function jS(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,lm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function PS(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,lm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function lm(t,i,a,l){if(Hc){var h=um(l);if(h===null)Yd(t,i,l,Fc,a),Uv(t,l);else if(zS(h,t,i,a,l))l.stopPropagation();else if(Uv(t,l),i&4&&-1<US.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var N=1<<31-mt(_);A.entanglements[1]|=N,_&=~N}Ni(d),(Fe&6)===0&&(xc=tn()+500,Cl(0))}}break;case 31:case 13:A=js(d,2),A!==null&&fn(A,d,2),Cc(),om(d,2)}if(d=um(l),d===null&&Yd(t,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yd(t,i,l,null,a)}}function um(t){return t=In(t),cm(t)}var Fc=null;function cm(t){if(Fc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case jo:return 2;case Po:return 8;case Ar:case gf:return 32;case bu:return 268435456;default:return 32}default:return 32}}var hm=!1,Xr=null,Jr=null,Zr=null,kl=new Map,Ll=new Map,Wr=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zS(t,i,a,l,h){switch(i){case"focusin":return Xr=jl(Xr,t,i,a,l,h),!0;case"dragenter":return Jr=jl(Jr,t,i,a,l,h),!0;case"mouseover":return Zr=jl(Zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,jl(kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,jl(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function zv(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){jv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){jv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Cn(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function Bv(t,i,a){Gc(t)&&a.delete(i)}function BS(){hm=!1,Xr!==null&&Gc(Xr)&&(Xr=null),Jr!==null&&Gc(Jr)&&(Jr=null),Zr!==null&&Gc(Zr)&&(Zr=null),kl.forEach(Bv),Ll.forEach(Bv)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BS)))}var Kc=null;function qv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function no(t){function i(N){return Qc(N,t)}Xr!==null&&Qc(Xr,t),Jr!==null&&Qc(Jr,t),Zr!==null&&Qc(Zr,t),kl.forEach(i),Ll.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)zv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[jt]||null;if(typeof d=="function")_||qv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[jt]||null)A=_.formAction;else if(cm(h)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}Yc.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();Vv(a,l,t,i,null,null)},Yc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Vv(t.current,2,null,t,null,null),Cc(),i[mi]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&zv(t)}};var Fv=e.version;if(Fv!=="19.2.0")throw Error(s(527,Fv,"19.2.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var qS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Hn=$c.inject(qS),Bt=$c}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Jy,d=Zy,_=Wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(t,1,!1,null,null,a,l,null,h,d,_,Hv),t[mi]=i.current,Kd(t),new fm(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Jy,_=Zy,A=Wy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Ov(t,1,!0,i,a??null,l,h,N,d,_,A,Hv),i.context=Mv(null),a=i.current,l=Sn(),l=ws(l),h=Pr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,As(i,a),Ni(i),t[mi]=i.current,Kd(t),new Yc(i)},Ul.version="19.2.0",Ul}var t0;function WS(){if(t0)return pm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=ZS(),pm.exports}var ew=WS();var n0="popstate";function tw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Zl(o)}return iw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nw(){return Math.random().toString(36).substring(2,10)}function i0(r,e){return{usr:r.state,key:r.key,idx:e}}function Pm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||nw()}}function Zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function iw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=T(),ne=F==null?null:F-g;g=F,p&&p({action:m,location:J.location,delta:ne})}function S(F,ne){m="PUSH";let ie=Pm(J.location,F,ne);g=T()+1;let re=i0(ie,g),_e=J.createHref(ie);try{f.pushState(re,"",_e)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(_e)}u&&p&&p({action:m,location:J.location,delta:1})}function k(F,ne){m="REPLACE";let ie=Pm(J.location,F,ne);g=T();let re=i0(ie,g),_e=J.createHref(ie);f.replaceState(re,"",_e),u&&p&&p({action:m,location:J.location,delta:0})}function Q(F){return rw(F)}let J={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(n0,b),p=F,()=>{o.removeEventListener(n0,b),p=null}},createHref(F){return e(o,F)},createURL:Q,encodeLocation(F){let ne=Q(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:k,go(F){return f.go(F)}};return J}function rw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $E(r,e,n="/"){return sw(r,e,n,!1)}function sw(r,e,n,s){let o=typeof e=="string"?To(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=XE(r);aw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=yw(u);m=pw(f[p],g,s)}return m}function XE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=dr([s,T.relativePath]),S=n.concat(T);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),XE(f.children,e,S,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:dw(b,f.index),routesMeta:S})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of JE(f.path))u(f,m,!0,p)}),e}function JE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=JE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function aw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:mw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ow=/^:[\w-]+$/,lw=3,uw=2,cw=1,hw=10,fw=-2,r0=r=>r==="*";function dw(r,e){let n=r.split("/"),s=n.length;return n.some(r0)&&(s+=fw),e&&(s+=uw),n.filter(o=>!r0(o)).reduce((o,u)=>o+(ow.test(u)?lw:u===""?cw:hw),s)}function mw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function pw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:dr([u,b.pathname]),pathnameBase:bw(dr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=dr([u,b.pathnameBase]))}return f}function gh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=gw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},S)=>{if(T==="*"){let Q=m[S]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const k=m[S];return b&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function gw(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vw=r=>_w.test(r);function Ew(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r,u;if(n)if(vw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=s0(n.substring(1),"/"):u=s0(n,e)}else u=e;return{pathname:u,search:Aw(s),hash:Sw(o)}}function s0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(r){let e=Tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _p(r,e,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=Ew(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),bw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ww(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var xw=["GET",...ZE];new Set(xw);var bo=P.createContext(null);bo.displayName="DataRouter";var Ph=P.createContext(null);Ph.displayName="DataRouterState";P.createContext(!1);var WE=P.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var Rw=P.createContext(new Map);Rw.displayName="Fetchers";var Cw=P.createContext(null);Cw.displayName="Await";var oi=P.createContext(null);oi.displayName="Navigation";var lu=P.createContext(null);lu.displayName="Location";var qi=P.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var vp=P.createContext(null);vp.displayName="RouteError";function Iw(r,{relative:e}={}){ut(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(oi),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return P.useContext(lu)!=null}function Er(){return ut(Ao(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(lu).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(r){P.useContext(oi).static||P.useLayoutEffect(r)}function So(){let{isDataRoute:r}=P.useContext(qi);return r?qw():Nw()}function Nw(){ut(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(bo),{basename:e,navigator:n}=P.useContext(oi),{matches:s}=P.useContext(qi),{pathname:o}=Er(),u=JSON.stringify(yp(s)),f=P.useRef(!1);return tT(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(qn(f.current,eT),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=_p(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:dr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}P.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=P.useContext(qi),{pathname:s}=Er(),o=JSON.stringify(yp(n));return P.useMemo(()=>_p(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Dw(r,e){return nT(r,e)}function nT(r,e,n,s,o){ut(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(oi),{matches:f}=P.useContext(qi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ie=b&&b.path||"";iT(g,!b||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let S=Er(),k;if(e){let ie=typeof e=="string"?To(e):e;ut(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=S;let Q=k.pathname||"/",J=Q;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");J="/"+Q.replace(/^\//,"").split("/").slice(ie.length).join("/")}let F=$E(r,{pathname:J});qn(b||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),qn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Lw(F&&F.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:dr([T,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:dr([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ne?P.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ne):ne}function Ow(){let r=Bw(),e=ww(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var Mw=P.createElement(Ow,null),Vw=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(qi.Provider,{value:this.props.routeContext},P.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kw({routeContext:r,match:e,children:n}){let s=P.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(qi.Provider,{value:r},n)}function Lw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:S,errors:k}=n,Q=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!k||k[b.route.id]===void 0);if(b.route.lazy||Q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((T,b,S)=>{let k,Q=!1,J=null,F=null;n&&(k=f&&b.route.id?f[b.route.id]:void 0,J=b.route.errorElement||Mw,m&&(p<0&&S===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,F=null):p===S&&(Q=!0,F=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,S+1)),ie=()=>{let re;return k?re=J:Q?re=F:b.route.Component?re=P.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=T,P.createElement(kw,{match:b,routeContext:{outlet:T,matches:ne,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?P.createElement(Vw,{location:n.location,revalidation:n.revalidation,component:J,error:k,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):ie()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(r){let e=P.useContext(bo);return ut(e,Ep(r)),e}function Pw(r){let e=P.useContext(Ph);return ut(e,Ep(r)),e}function Uw(r){let e=P.useContext(qi);return ut(e,Ep(r)),e}function Tp(r){let e=Uw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function zw(){return Tp("useRouteId")}function Bw(){let r=P.useContext(vp),e=Pw("useRouteError"),n=Tp("useRouteError");return r!==void 0?r:e.errors?.[n]}function qw(){let{router:r}=jw("useNavigate"),e=Tp("useNavigate"),n=P.useRef(!1);return tT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{qn(n.current,eT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var a0={};function iT(r,e,n){!e&&!a0[r]&&(a0[r]=!0,qn(!1,n))}P.memo(Hw);function Hw({routes:r,future:e,state:n,unstable_onError:s}){return nT(r,void 0,n,s,e)}function Um({to:r,replace:e,state:n,relative:s}){ut(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(oi);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(qi),{pathname:f}=Er(),m=So(),p=_p(r,yp(u),f,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function lr(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:S="default"}=n,k=P.useMemo(()=>{let Q=pr(p,f);return Q==null?null:{location:{pathname:Q,search:g,hash:T,state:b,key:S},navigationType:s}},[f,p,g,T,b,S,s]);return qn(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:P.createElement(oi.Provider,{value:m},P.createElement(lu.Provider,{children:e,value:k}))}function o0({children:r,location:e}){return Dw(zm(r),e)}function zm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,zm(s.props.children,u));return}ut(s.type===lr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var ih="get",rh="application/x-www-form-urlencoded";function Uh(r){return r!=null&&typeof r.tagName=="string"}function Gw(r){return Uh(r)&&r.tagName.toLowerCase()==="button"}function Qw(r){return Uh(r)&&r.tagName.toLowerCase()==="form"}function Kw(r){return Uh(r)&&r.tagName.toLowerCase()==="input"}function Yw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $w(r,e){return r.button===0&&(!e||e==="_self")&&!Yw(r)}var Xc=null;function Xw(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var Jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(r){return r!=null&&!Jw.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function Zw(r,e){let n,s,o,u,f;if(Qw(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||ih,o=Em(r.getAttribute("enctype"))||rh,u=new FormData(r)}else if(Gw(r)||Kw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ih,o=Em(r.getAttribute("formenctype"))||Em(m.getAttribute("enctype"))||rh,u=new FormData(m,r),!Xw()){let{name:g,type:T,value:b}=r;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,s=null,o=rh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ww(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function e2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function n2(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await e2(u,n);return f.links?f.links():[]}return[]}));return a2(s.flat(1).filter(t2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function i2(r,e,{includeHydrateFallback:n}={}){return r2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function r2(r){return[...new Set(r)]}function s2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function a2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(s2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rT(){let r=P.useContext(bo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function o2(){let r=P.useContext(Ph);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function sT(){let r=P.useContext(Ap);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function l2(r,e){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,S=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let J=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),P.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let k=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:zl(m,k),onBlur:zl(p,Q),onMouseEnter:zl(g,k),onMouseLeave:zl(T,Q),onTouchStart:zl(b,k)}]:[!1,S,{}]}function zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function u2({page:r,...e}){let{router:n}=rT(),s=P.useMemo(()=>$E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(h2,{page:r,matches:s,...e}):null}function c2(r){let{manifest:e,routeModules:n}=sT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return n2(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function h2({page:r,matches:e,...n}){let s=Er(),{manifest:o,routeModules:u}=sT(),{basename:f}=rT(),{loaderData:m,matches:p}=o2(),g=P.useMemo(()=>l0(r,e,p,o,s,"data"),[r,e,p,o,s]),T=P.useMemo(()=>l0(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,J=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!g.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?J=!0:Q.add(ne.route.id))}),Q.size===0)return[];let F=Ww(r,f,"data");return J&&Q.size>0&&F.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),S=P.useMemo(()=>i2(T,o),[T,o]),k=c2(T);return P.createElement(P.Fragment,null,b.map(Q=>P.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),S.map(Q=>P.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),k.map(({key:Q,link:J})=>P.createElement("link",{key:Q,nonce:n.nonce,...J})))}function f2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aT&&(window.__reactRouterVersion="7.9.6")}catch{}function d2({basename:r,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=tw({window:n,v5Compat:!0}));let o=s.current,[u,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(Fw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sp=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...S},k){let{basename:Q}=P.useContext(oi),J=typeof g=="string"&&oT.test(g),F,ne=!1;if(typeof g=="string"&&J&&(F=g,aT))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),D=pr(O.pathname,Q);O.origin===R.origin&&D!=null?g=D+O.search+O.hash:ne=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=Iw(g,{relative:o}),[re,_e,be]=l2(s,S),ue=y2(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function C(R){e&&e(R),R.defaultPrevented||ue(R)}let x=P.createElement("a",{...S,...be,href:F||ie,onClick:ne||u?e:C,ref:f2(k,_e),target:p,"data-discover":!J&&n==="render"?"true":void 0});return re&&!J?P.createElement(P.Fragment,null,x,P.createElement(u2,{page:ie})):x});Sp.displayName="Link";var m2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=uu(f,{relative:g.relative}),S=Er(),k=P.useContext(Ph),{navigator:Q,basename:J}=P.useContext(oi),F=k!=null&&b2(b)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(b).pathname:b.pathname,ie=S.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&J&&(re=pr(re,J)||re);const _e=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let be=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(_e)==="/",ue=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),C={isActive:be,isPending:ue,isTransitioning:F},x=be?e:void 0,R;typeof s=="function"?R=s(C):R=[s,be?"active":null,ue?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return P.createElement(Sp,{...g,"aria-current":x,className:R,ref:T,style:O,to:f,viewTransition:m},typeof p=="function"?p(C):p)});m2.displayName="NavLink";var p2=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ih,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...S},k)=>{let Q=E2(),J=T2(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&oT.test(m),ie=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let _e=re.nativeEvent.submitter,be=_e?.getAttribute("formmethod")||f;Q(_e||re.currentTarget,{fetcherKey:e,method:be,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return P.createElement("form",{ref:k,method:F,action:J,onSubmit:s?p:ie,...S,"data-discover":!ne&&r==="render"?"true":void 0})});p2.displayName="Form";function g2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(r){let e=P.useContext(bo);return ut(e,g2(r)),e}function y2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=So(),p=Er(),g=uu(r,{relative:u});return P.useCallback(T=>{if($w(T,e)){T.preventDefault();let b=n!==void 0?n:Zl(p)===Zl(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var _2=0,v2=()=>`__${String(++_2)}__`;function E2(){let{router:r}=lT("useSubmit"),{basename:e}=P.useContext(oi),n=zw();return P.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Zw(s,e);if(o.navigate===!1){let T=o.fetcherKey||v2();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function T2(r,{relative:e}={}){let{basename:n}=P.useContext(oi),s=P.useContext(qi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=Er();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Zl(u)}function b2(r,{relative:e}={}){let n=P.useContext(WE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lT("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return gh(o.pathname,f)!=null||gh(o.pathname,u)!=null}const A2=()=>{};var u0={};const uT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},S2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(S=64)),s.push(n[T],n[b],n[S],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(uT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):S2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new w2;const S=u<<2|m>>4;if(s.push(S),g!==64){const k=m<<4&240|g>>2;if(s.push(k),b!==64){const Q=g<<6&192|b;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class w2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x2=function(r){const e=uT(r);return cT.encodeByteArray(e,!0)},yh=function(r){return x2(r).replace(/\./g,"")},hT=function(r){try{return cT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C2=()=>R2().__FIREBASE_DEFAULTS__,I2=()=>{if(typeof process>"u"||typeof u0>"u")return;const r=u0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},N2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hT(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return A2()||C2()||I2()||N2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fT=r=>zh()?.emulatorHosts?.[r],D2=r=>{const e=fT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},dT=()=>zh()?.config,mT=r=>zh()?.[`_${r}`];class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(r){return(await fetch(r,{credentials:"include"})).ok}function M2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yh(JSON.stringify(n)),yh(JSON.stringify(f)),""].join(".")}const Ql={};function V2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function k2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let c0=!1;function gT(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Ql[r]===e||Ql[r]||c0)return;Ql[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=V2().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{c0=!0,f()},S}function T(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=k2(s),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),J=n("learnmore"),F=document.getElementById(J)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),T(F,J);const _e=g();p(ie,ne),re.append(ie,Q,F,_e),document.body.appendChild(re)}u?(Q.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function j2(){const r=zh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z2(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function B2(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function q2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const H2="FirebaseError";class li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=H2,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?F2(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new li(o,m,s)}}function F2(r,e){return r.replace(G2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const G2=/\{\$([^}]+)}/g;function Q2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(h0(u)&&h0(f)){if(!cs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function h0(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function K2(r,e){const n=new Y2(r,e);return n.subscribe.bind(n)}class Y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Tm(){}const X2=1e3,J2=2,Z2=14400*1e3,W2=.5;function f0(r,e=X2,n=J2){const s=e*Math.pow(n,r),o=Math.round(W2*s*(Math.random()-.5)*2);return Math.min(Z2,s+o)}function Ot(r){return r&&r._delegate?r._delegate:r}class si{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new O2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nx(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tx(r){return r===Xs?void 0:r}function nx(r){return r.instantiationMode==="EAGER"}class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const rx={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},sx=Ve.INFO,ax={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},ox=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ax[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=sx,this._logHandler=ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const lx=(r,e)=>e.some(n=>r instanceof n);let d0,m0;function ux(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Bm=new WeakMap,TT=new WeakMap,bm=new WeakMap,wp=new WeakMap;function hx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ET.set(n,r)}).catch(()=>{}),wp.set(e,r),e}function fx(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||TT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dx(r){qm=r(qm)}function mx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Am(this),e,...n);return TT.set(s,e.sort?e.sort():[e]),as(s)}:cx().includes(r)?function(...e){return r.apply(Am(this),e),as(ET.get(this))}:function(...e){return as(r.apply(Am(this),e))}}function px(r){return typeof r=="function"?mx(r):(r instanceof IDBTransaction&&fx(r),lx(r,ux())?new Proxy(r,qm):r)}function as(r){if(r instanceof IDBRequest)return hx(r);if(bm.has(r))return bm.get(r);const e=px(r);return e!==r&&(bm.set(r,e),wp.set(e,r)),e}const Am=r=>wp.get(r);function bT(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",p=>{s(as(f.result),p.oldVersion,p.newVersion,as(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const gx=["get","getKey","getAll","getAllKeys","count"],yx=["put","add","delete","clear"],Sm=new Map;function p0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}dx(r=>({...r,get:(e,n,s)=>p0(e,n)||r.get(e,n,s),has:(e,n)=>!!p0(e,n)||r.has(e,n)}));class _x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vx(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",g0="0.14.6";const gr=new Bh("@firebase/app"),Ex="@firebase/app-compat",Tx="@firebase/analytics-compat",bx="@firebase/analytics",Ax="@firebase/app-check-compat",Sx="@firebase/app-check",wx="@firebase/auth",xx="@firebase/auth-compat",Rx="@firebase/database",Cx="@firebase/data-connect",Ix="@firebase/database-compat",Nx="@firebase/functions",Dx="@firebase/functions-compat",Ox="@firebase/installations",Mx="@firebase/installations-compat",Vx="@firebase/messaging",kx="@firebase/messaging-compat",Lx="@firebase/performance",jx="@firebase/performance-compat",Px="@firebase/remote-config",Ux="@firebase/remote-config-compat",zx="@firebase/storage",Bx="@firebase/storage-compat",qx="@firebase/firestore",Hx="@firebase/ai",Fx="@firebase/firestore-compat",Gx="firebase",Qx="12.6.0";const Fm="[DEFAULT]",Kx={[Hm]:"fire-core",[Ex]:"fire-core-compat",[bx]:"fire-analytics",[Tx]:"fire-analytics-compat",[Sx]:"fire-app-check",[Ax]:"fire-app-check-compat",[wx]:"fire-auth",[xx]:"fire-auth-compat",[Rx]:"fire-rtdb",[Cx]:"fire-data-connect",[Ix]:"fire-rtdb-compat",[Nx]:"fire-fn",[Dx]:"fire-fn-compat",[Ox]:"fire-iid",[Mx]:"fire-iid-compat",[Vx]:"fire-fcm",[kx]:"fire-fcm-compat",[Lx]:"fire-perf",[jx]:"fire-perf-compat",[Px]:"fire-rc",[Ux]:"fire-rc-compat",[zx]:"fire-gcs",[Bx]:"fire-gcs-compat",[qx]:"fire-fst",[Fx]:"fire-fst-compat",[Hx]:"fire-vertex","fire-js":"fire-js",[Gx]:"fire-js-all"};const _h=new Map,Yx=new Map,Gm=new Map;function y0(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Pi(r){const e=r.name;if(Gm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of _h.values())y0(n,r);for(const n of Yx.values())y0(n,r);return!0}function la(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const $x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new oa("app","Firebase",$x);class Xx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const xo=Qx;function AT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=dT()),!n)throw os.create("no-options");const u=_h.get(o);if(u){if(cs(n,u.options)&&cs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new ix(o);for(const p of Gm.values())f.addComponent(p);const m=new Xx(n,s,f);return _h.set(o,m),m}function xp(r=Fm){const e=_h.get(r);if(!e&&r===Fm&&dT())return AT();if(!e)throw os.create("no-app",{appName:r});return e}function Bn(r,e,n){let s=Kx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(f.join(" "));return}Pi(new si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Jx="firebase-heartbeat-database",Zx=1,Wl="firebase-heartbeat-store";let wm=null;function ST(){return wm||(wm=bT(Jx,Zx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),wm}async function Wx(r){try{const n=(await ST()).transaction(Wl),s=await n.objectStore(Wl).get(wT(r));return await n.done,s}catch(e){if(e instanceof li)gr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function _0(r,e){try{const s=(await ST()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,wT(r)),await s.done}catch(n){if(n instanceof li)gr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function wT(r){return`${r.name}!${r.options.appId}`}const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tR){const o=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v0(),{heartbeatsToSend:n,unsentEntries:s}=iR(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function v0(){return new Date().toISOString().substring(0,10)}function iR(r,e=eR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),E0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),E0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E0(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function sR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function aR(r){Pi(new si("platform-logger",e=>new _x(e),"PRIVATE")),Pi(new si("heartbeat",e=>new nR(e),"PRIVATE")),Bn(Hm,g0,r),Bn(Hm,g0,"esm2020"),Bn("fire-js","")}aR("");function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=xT,RT=new oa("auth","Firebase",xT());const vh=new Bh("@firebase/auth");function lR(r,...e){vh.logLevel<=Ve.WARN&&vh.warn(`Auth (${xo}): ${r}`,...e)}function sh(r,...e){vh.logLevel<=Ve.ERROR&&vh.error(`Auth (${xo}): ${r}`,...e)}function Ui(r,...e){throw Cp(r,...e)}function ii(r,...e){return Cp(r,...e)}function Rp(r,e,n){const s={...oR(),[e]:n};return new oa("auth","Firebase",s).create(e,{appName:r.name})}function ea(r){return Rp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(r,"argument-error"),Rp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RT.create(r,...e)}function Te(r,e,...n){if(!r)throw Cp(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function yr(r,e){r||cr(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function cR(){return T0()==="http:"||T0()==="https:"}function T0(){return typeof self<"u"&&self.location?.protocol||null}function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cR()||yT()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=L2()||U2()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ip(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class CT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pR=new hu(3e4,6e4);function Np(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ro(r,e,n,s,o={}){return IT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return P2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(g.credentials="include"),CT.fetch()(await NT(r,r.config.apiHost,n,m),g)})}async function IT(r,e,n){r._canInitEmulator=!1;const s={...dR,...e};try{const o=new yR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Jc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rp(r,T,g);Ui(r,T)}}catch(o){if(o instanceof li)throw o;Ui(r,"network-request-failed",{message:String(o)})}}async function gR(r,e,n,s,o={}){const u=await Ro(r,e,n,s,o);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ip(r.config,o):`${r.config.apiScheme}://${o}`;return mR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class yR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),pR.get())})}}function Jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(r,e,s);return o.customData._tokenResponse=n,o}async function _R(r,e){return Ro(r,"POST","/v1/accounts:delete",e)}async function Eh(r,e){return Ro(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vR(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),o=Dp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(xm(o.auth_time)),issuedAtTime:Kl(xm(o.iat)),expirationTime:Kl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function Dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=hT(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b0(r){const e=Dp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof li&&ER(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ER({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(r){const e=r.auth,n=await r.getIdToken(),s=await eu(r,Eh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?DT(o.providerUserInfo):[],f=AR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function bR(r){const e=Ot(r);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function SR(r,e){const n=await IT(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await NT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),CT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wR(r,e){return Ro(r,"POST","/v2/accounts:revokeToken",Np(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=b0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await SR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return cr("not implemented")}}function ts(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vR(this,e)}reload(){return bR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await eu(this,_R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:k,providerData:Q,stsTokenManager:J}=n;Te(b&&J,e,"internal-error");const F=oo.fromJSON(this.name,J);Te(typeof b=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(T,e.name);const ne=new ni({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:T});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const A0=new Map;function hr(r){yr(r instanceof Function,"Expected a class definition");let e=A0.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A0.set(r,e),e)}class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OT.type="NONE";const S0=OT;function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(hr(S0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(S0);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let b;if(typeof T=="string"){const S=await Eh(e,{idToken:T}).catch(()=>{});if(!S)break;b=await ni._fromGetAccountInfoResponse(e,S,T)}else b=ni._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,e,s))}}function w0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(UT(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function MT(r=en()){return/firefox\//i.test(r)}function VT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(r=en()){return/crios\//i.test(r)}function LT(r=en()){return/iemobile/i.test(r)}function jT(r=en()){return/android/i.test(r)}function PT(r=en()){return/blackberry/i.test(r)}function UT(r=en()){return/webos/i.test(r)}function Op(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xR(r=en()){return Op(r)&&!!window.navigator?.standalone}function RR(){return z2()&&document.documentMode===10}function zT(r=en()){return Op(r)||jT(r)||UT(r)||PT(r)||/windows phone/i.test(r)||LT(r)}function BT(r,e=[]){let n;switch(r){case"Browser":n=w0(en());break;case"Worker":n=`${w0(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class CR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function IR(r,e={}){return Ro(r,"GET","/v2/passwordPolicy",Np(r,e))}const NR=6;class DR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class OR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(ea(this));const n=e?Ot(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IR(this),n=new DR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qh(r){return Ot(r)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=K2(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MR(r){Mp=r}function VR(r){return Mp.loadJS(r)}function kR(){return Mp.gapiScript}function LR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function jR(r,e){const n=la(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(cs(u,e??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:e})}function PR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function UR(r,e,n){const s=qh(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=qT(e),{host:f,port:m}=zR(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(cs(g,s.config.emulator)&&cs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(pT(`${u}//${f}${p}`),gT("Auth",!0)):BR()}function qT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zR(r){const e=qT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:R0(f)}}}function R0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class HT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function uo(r,e){return gR(r,"POST","/v1/accounts:signInWithIdp",Np(r,e))}const qR="http://localhost";class na extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:qR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}class Vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends Vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends fu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class ur extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class is extends fu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends fu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=C0(s);return new mo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=C0(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bh extends li{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function FT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,s):u})}async function HR(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return mo._forOperation(r,"link",s)}async function FR(r,e,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject(ea(s));const o="reauthenticate";try{const u=await eu(r,FT(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Dp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}async function GR(r,e,n=!1){if(ti(r.app))return Promise.reject(ea(r));const s="signIn",o=await FT(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function QR(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function KR(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function YR(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function $R(r){return Ot(r).signOut()}const Ah="__sak";class GT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const XR=1e3,JR=10;class QT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);RR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const ZR=QT;class KT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const YT=KT;function WR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await WR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function kp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=kp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function tC(r){Mi().location.href=r}function $T(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function nC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){return navigator?.serviceWorker?.controller||null}function rC(){return $T()?self:null}const XT="firebaseLocalStorageDb",sC=1,Sh="firebaseLocalStorage",JT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,e){return r.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function aC(){const r=indexedDB.deleteDatabase(XT);return new du(r).toPromise()}function Ym(){const r=indexedDB.open(XT,sC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:JT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await aC(),e(await Ym()))})})}async function I0(r,e,n){const s=Fh(r,!0).put({[JT]:e,value:n});return new du(s).toPromise()}async function oC(r,e){const n=Fh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function N0(r,e){const n=Fh(r,!0).delete(e);return new du(n).toPromise()}const lC=800,uC=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await I0(e,Ah,"1"),await N0(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>I0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const cC=ZT;new hu(3e4,6e4);function WT(r,e){return e?hr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lp extends HT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hC(r){return GR(r.auth,new Lp(r),r.bypassAuthState)}function fC(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),FR(n,new Lp(r),r.bypassAuthState)}async function dC(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),HR(n,new Lp(r),r.bypassAuthState)}class eb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Ui(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mC=new hu(2e3,1e4);async function pC(r,e,n){if(ti(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const s=qh(r);uR(r,e,Vp);const o=WT(s,n);return new Js(s,"signInViaPopup",e,o).executeNotNull()}class Js extends eb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mC.get())};e()}}Js.currentPopupAction=null;const gC="pendingRedirect",oh=new Map;class yC extends eb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await _C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(r,e){const n=TC(e),s=EC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vC(r,e){oh.set(r._key(),e)}function EC(r){return hr(r._redirectPersistence)}function TC(r){return ah(gC,r.config.apiKey,r.name)}async function bC(r,e,n=!1){if(ti(r.app))return Promise.reject(ea(r));const s=qh(r),o=WT(s,e),f=await new yC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const AC=600*1e3;class SC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}async function xC(r,e={}){return Ro(r,"GET","/v1/projects",e)}const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function IC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xC(r);for(const n of e)try{if(NC(n))return}catch{}Ui(r,"unauthorized-domain")}function NC(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const DC=new hu(3e4,6e4);function O0(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OC(r){return new Promise((e,n)=>{function s(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(ii(r,"network-request-failed"))},timeout:DC.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=LR("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(ii(r,"network-request-failed"))},VR(`${kR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function MC(r){return lh=lh||OC(r),lh}const VC=new hu(5e3,15e3),kC="__/auth/iframe",LC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UC(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ip(e,LC):`https://${r.config.authDomain}/${kC}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=PC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function zC(r){const e=await MC(r),n=Mi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:UC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},VC.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qC=500,HC=600,FC="_blank",GC="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QC(r,e,n,s=qC,o=HC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...BC,width:s.toString(),height:o.toString(),top:u,left:f},g=en().toLowerCase();n&&(m=kT(g)?FC:n),MT(g)&&(e=e||GC,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[k,Q])=>`${S}${k}=${Q},`,"");if(xR(g)&&m!=="_self")return KC(e||"",m),new M0(null);const b=window.open(e||"",m,T);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new M0(b)}function KC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const YC="__/auth/handler",$C="emulator/auth/handler",XC=encodeURIComponent("fac");async function V0(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof Vp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Q2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof fu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${XC}=${encodeURIComponent(p)}`:"";return`${JC(r)}?${cu(m).slice(1)}${g}`}function JC({config:r}){return r.emulator?Ip(r,$C):`https://${r.authDomain}/${YC}`}const Rm="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=bC,this._overrideRedirectResult=vC}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await V0(e,n,s,Qm(),o);return QC(e,u,kp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await V0(e,n,s,Qm(),o);return tC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await zC(e),s=new SC(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zT()||VT()||Op()}}const WC=ZC;var k0="@firebase/auth",L0="1.11.1";class eI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nI(r){Pi(new si("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(r)},g=new OR(s,o,u,p);return PR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Pi(new si("auth-internal",e=>{const n=qh(e.getProvider("auth").getImmediate());return(s=>new eI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(k0,L0,tI(r)),Bn(k0,L0,"esm2020")}const iI=300,rI=mT("authIdTokenMaxAge")||iI;let j0=null;const sI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rI)return;const o=n?.token;j0!==o&&(j0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aI(r=xp()){const e=la(r,"auth");if(e.isInitialized())return e.getImmediate();const n=jR(r,{popupRedirectResolver:WC,persistence:[cC,ZR,YT]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=sI(u.toString());KR(n,f,()=>f(n.currentUser)),QR(n,m=>f(m))}}const o=fT("auth");return o&&UR(n,`http://${o}`),n}function oI(){return document.getElementsByTagName("head")?.[0]??document}MR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nI("Browser");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,nb;(function(){var r;function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,D,L){for(var I=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)I[tt-2]=arguments[tt];return x.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],D=C.g[2];let L=C.g[3],I;I=x+(L^R&(D^L))+O[0]+3614090360&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(D^x&(R^D))+O[1]+3905402710&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(R^L&(x^R))+O[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(x^D&(L^x))+O[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(L^R&(D^L))+O[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(D^x&(R^D))+O[5]+1200080426&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(R^L&(x^R))+O[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(x^D&(L^x))+O[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(L^R&(D^L))+O[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(D^x&(R^D))+O[9]+2336552879&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(R^L&(x^R))+O[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(x^D&(L^x))+O[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(L^R&(D^L))+O[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=L+(D^x&(R^D))+O[13]+4254626195&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(R^L&(x^R))+O[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(x^D&(L^x))+O[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(D^L&(R^D))+O[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(x^R))+O[6]+3225465664&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(L^x))+O[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(D^L))+O[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(R^D))+O[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(x^R))+O[10]+38016083&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(L^x))+O[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(D^L))+O[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(R^D))+O[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(x^R))+O[14]+3275163606&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(L^x))+O[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(D^L))+O[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(R^D))+O[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(x^R))+O[2]+4243563512&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(L^x))+O[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^x&(D^L))+O[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(R^D^L)+O[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^D)+O[8]+2272392833&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^R)+O[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^x)+O[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^L)+O[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^D)+O[4]+1272893353&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^R)+O[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^x)+O[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^L)+O[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^D)+O[0]+3936430074&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^R)+O[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^x)+O[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^L)+O[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=L+(x^R^D)+O[12]+3873151461&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^R)+O[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^x)+O[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(D^(R|~L))+O[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~D))+O[7]+1126891415&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~R))+O[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~x))+O[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~L))+O[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~D))+O[3]+2399980690&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~R))+O[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~x))+O[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~L))+O[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~D))+O[15]+4264355552&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~R))+O[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~x))+O[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~L))+O[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=L+(R^(x|~D))+O[11]+3174756917&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~R))+O[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~x))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<x;){if(D==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<x;)if(O[D++]=C.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<x;)if(O[D++]=C[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[x++]=this.g[R]>>>O&255;return C};function u(C,x){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function f(C,x){this.h=x;const R=[];let O=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;O&&L==x||(R[D]=L,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(x){return new f([x|0],x<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return F(g(-C));const x=[];let R=1;for(let O=0;C>=R;O++)x[O]=C/R|0,R*=4294967296;return new f(x,0)}function T(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return F(T(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let O=b;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+D),x);D<8?(D=g(Math.pow(x,D)),O=O.j(D).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var b=p(0),S=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-F(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(J(this))return"-"+F(this).toString(C);const x=g(Math.pow(C,6));var R=this;let O="";for(;;){const D=_e(R,x).g;R=ne(R,D.j(x));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,Q(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function J(C){return C.h==-1}r.l=function(C){return C=ne(this,C),J(C)?-1:Q(C)?0:1};function F(C){const x=C.g.length,R=[];for(let O=0;O<x;O++)R[O]=~C.g[O];return new f(R,~C.h).add(S)}r.abs=function(){return J(this)?F(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let D=0;D<=x;D++){let L=O+(this.i(D)&65535)+(C.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=I>>>16,L&=65535,I&=65535,R[D]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(C,x){return C.add(F(x))}r.j=function(C){if(Q(this)||Q(C))return b;if(J(this))return J(C)?F(this).j(F(C)):F(F(this).j(C));if(J(C))return F(this.j(F(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const L=this.i(O)>>>16,I=this.i(O)&65535,tt=C.i(D)>>>16,dt=C.i(D)&65535;R[2*O+2*D]+=I*dt,ie(R,2*O+2*D),R[2*O+2*D+1]+=L*dt,ie(R,2*O+2*D+1),R[2*O+2*D+1]+=I*tt,ie(R,2*O+2*D+1),R[2*O+2*D+2]+=L*tt,ie(R,2*O+2*D+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new f(R,0)};function ie(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function re(C,x){this.g=C,this.h=x}function _e(C,x){if(Q(x))throw Error("division by zero");if(Q(C))return new re(b,b);if(J(C))return x=_e(F(C),x),new re(F(x.g),F(x.h));if(J(x))return x=_e(C,F(x)),new re(F(x.g),x.h);if(C.g.length>30){if(J(C)||J(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=x;O.l(C)<=0;)R=be(R),O=be(O);var D=ue(R,1),L=ue(O,1);for(O=ue(O,2),R=ue(R,2);!Q(O);){var I=L.add(O);I.l(C)<=0&&(D=D.add(R),L=I),O=ue(O,1),R=ue(R,1)}return x=ne(C,D.j(x)),new re(D,x)}for(D=b;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(R),I=L.j(x);J(I)||I.l(C)>0;)R-=O,L=g(R),I=L.j(x);Q(L)&&(L=S),D=D.add(L),C=ne(C,I)}return new re(D,C)}r.B=function(C){return _e(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)&C.i(O);return new f(R,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)|C.i(O);return new f(R,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<x;O++)R[O]=this.i(O)^C.i(O);return new f(R,this.h^C.h)};function be(C){const x=C.g.length+1,R=[];for(let O=0;O<x;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(R,C.h)}function ue(C,x){const R=x>>5;x%=32;const O=C.g.length-R,D=[];for(let L=0;L<O;L++)D[L]=x>0?C.i(L+R)>>>x|C.i(L+R+1)<<32-x:C.i(L+R);return new f(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,ls=f}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ib,ql,rb,uh,$m,sb,ab,ob;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in v))break e;v=v[U]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,U,H){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return y.prototype[U].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function Q(c,y){for(let w=1;w<arguments.length;w++){const U=arguments[w];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const H=U.length||0;c.length=v+H;for(let se=0;se<H;se++)c[v+se]=U[se]}else c.push(U)}}class J{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const w=re.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new J(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ue=!1,C=new ie,x=()=>{const c=Promise.resolve(void 0);be=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){F(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ue=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function tt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(tt,D),tt.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(c,y,v,w,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=U,this.key=++Y,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function ze(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)c[v]=w[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function K(c){this.src=c,this.g={},this.h=0}K.prototype.add=function(c,y,v,w,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const se=Ee(c,y,w,U);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new oe(y,this.src,H,!!w,U),y.fa=v,c.push(y)),y};function ce(c,y){const v=y.type;if(v in c.g){var w=c.g[v],U=Array.prototype.indexOf.call(w,y,void 0),H;(H=U>=0)&&Array.prototype.splice.call(w,U,1),H&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,y,v,w){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==w)return U}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),st={};function at(c,y,v,w,U){if(Array.isArray(y)){for(let H=0;H<y.length;H++)at(c,y[H],v,w,U);return null}return v=Lo(v),c&&c[dt]?c.J(y,v,m(w)?!!w.capture:!1,U):vs(c,y,v,!1,w,U)}function vs(c,y,v,w,U,H){if(!y)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let xe=Es(c);if(xe||(c[Ie]=xe=new K(c)),v=xe.add(y,v,w,se,H),v.proxy)return v;if(w=da(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)L||(U=se),U===void 0&&(U=!1),c.addEventListener(y.toString(),w,U);else if(c.attachEvent)c.attachEvent(ui(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function da(){function c(v){return y.call(c.src,c.listener,v)}const y=Vo;return c}function ma(c,y,v,w,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)ma(c,y[H],v,w,U);else w=m(w)?!!w.capture:!!w,v=Lo(v),c&&c[dt]?(c=c.i,H=String(y).toString(),H in c.g&&(y=c.g[H],v=Ee(y,v,w,U),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[H],c.h--)))):c&&(c=Es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,v,w,U)),(v=c>-1?y[c]:null)&&pa(v))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])ce(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ui(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Es(y))?(ce(v,c),v.h==0&&(v.src=null,y[Ie]=null)):me(c)}}}function ui(c){return c in st?st[c]:st[c]="on"+c}function Vo(c,y){if(c.da)c=!0;else{y=new tt(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&pa(c),c=v.call(w,y)}return c}function Es(c){return c=c[Ie],c instanceof K?c:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function Et(){O.call(this),this.i=new K(this),this.M=this,this.G=null}b(Et,O),Et.prototype[dt]=!0,Et.prototype.removeEventListener=function(c,y,v,w){ma(this,c,y,v,w)};function Vt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var U=y;y=new D(w,c),ae(y,U)}U=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=y.g=v[se],U=br(H,w,!0,y)&&U;if(H=y.g=c,U=br(H,w,!0,y)&&U,U=br(H,w,!1,y)&&U,v)for(se=0;se<v.length;se++)H=y.g=v[se],U=br(H,w,!1,y)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)me(v[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},Et.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function br(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let H=0;H<y.length;++H){const se=y[H];if(se&&!se.da&&se.capture==v){const xe=se.listener,pt=se.ha||se.src;se.fa&&ce(c.i,se),U=xe.call(pt,w)!==!1&&U}}return U&&!w.defaultPrevented}function pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Tu(c){c.g=pf(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){O.call(this),this.h=c,this.g={}}b(Ts,O);var jo=[];function Po(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&pa(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Po(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=f.JSON.stringify,gf=f.JSON.parse,bu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Au(){}function Su(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}b(Bt,D);function Rn(){D.call(this,"c")}b(Rn,D);var mt={},wu=null;function ga(){return wu=wu||new Et}mt.Ia="serverreachability";function xu(c){D.call(this,mt.Ia,c)}b(xu,D);function ci(c){const y=ga();Vt(y,new xu(y))}mt.STAT_EVENT="statevent";function bs(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}b(bs,D);function Tt(c){const y=ga();Vt(y,new bs(y,c))}mt.Ja="timingevent";function hi(c,y){D.call(this,mt.Ja,c),this.size=y}b(hi,D);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function yf(c,y,v,w,U,H){c.info(function(){if(c.g)if(H){var se="",xe=H.split("&");for(let He=0;He<xe.length;He++){var pt=xe[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Dn=ot.split("_");se=Dn.length>=2&&Dn[1]=="type"?se+(ot+"="+pt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+y+`
`+v+`
`+se})}function Ru(c,y,v,w,U,H,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+y+`
`+v+`
`+H+" "+se})}function di(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_f(c,v)+(w?" "+w:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function _f(c,y){if(!c.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return Ar(H)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function ws(){}b(ws,Au),ws.prototype.g=function(){return new XMLHttpRequest},zo=new ws;function Hi(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function mi(c,y,v){c.M=1,c.A=xs(St(y)),c.u=v,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),pi(c),c.B=St(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ta(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Qn,c.g=Hu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(jo[0]=U.toString()),U=jo);for(let H=0;H<U.length;H++){const se=at(v,U[H],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),yf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=$n(this.g),pt=this.g.ya(),He=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||xe!=4||pt==7||(pt==8||He<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var v=vf(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var H=w;break t}}H=null}if(c=H)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Nu(this,v),ot==jt){xe==4&&(this.m=4,Tt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,Tt(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ot,null),yi(this,ot);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(se),se.P=!0,Tt(11))}}else di(this.i,this.l,v,null),yi(this,v);xe==4&&gn(this),this.o&&!this.K&&(xe==4?Uu(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),Cn(this)}}}catch{}finally{}};function vf(c){if(!Iu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const w=y.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,v+=c.h.i.decode(y[H],{stream:!(U&&H==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?jt:(v=Number(y.substring(v,w)),isNaN(v)?bt:(w+=1,w+v>y.length?jt:(y=y.slice(w,w+v),c.C=w+v,y)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function pi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ci(),Tt(17)),gn(this),this.m=2,Cn(this)):_a(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Uu(c.j,c)}function gn(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Po(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xa(v),Dr(v);else break e;Ms(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(g(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&xa(v),!I(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let He=U[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Dn=He[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const xi=He[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const Xn=He[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Jn=c.g;if(Jn){const Vs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var H=w.h;H.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ho(H,H.h),H.h=null))}if(w.G){const Ra=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(w.wa=Ra,Ke(w.J,w.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var se=c;if(w.na=qu(w,w.L?w.ba:null,w.W),se.L){Fo(w.h,se);var xe=se,pt=w.O;pt&&(xe.H=pt),xe.D&&(gi(xe),pi(xe)),w.g=se}else ju(w);v.i.length>0&&Si(v)}else He[0]!="stop"&&He[0]!="close"||wi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?wi(v,7):Wo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ci(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Bo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ho(c,y){c.g?c.g.add(y):c.h=y}function Fo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let U,H=null;w>=0?(U=c[v].substring(0,w),H=c[v].substring(w+1)):U=c[v],y(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Qo(this,ku(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),Sr(this,y[4]),this.h=Ei(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rs(y,Ea,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,Ea,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Ko:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Mu)),c.join("")},yn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=y.h.lastIndexOf("/");U!=-1&&(w=y.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let se=0;se<U.length;){const xe=U[se++];xe=="."?w&&se==U.length&&H.push(""):xe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&se==U.length&&H.push("")):(H.push(xe),w=!0)}w=H.join("/")}else w=U}return v?y.h=w:v=c.i.toString()!=="",v?Qo(y,ku(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new yn(c)}function Pt(c,y,v){c.j=v?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Qo(c,y,v){y instanceof xr?(c.i=y,ba(c.i,c.l)):(v||(y=Rs(y,wr)),c.i=new xr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function xs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Ou=/[#\?:]/g,Ko=/[#\?]/g,wr=/[#\?@]/g,Mu=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=xr.prototype,r.add=function(c,y){on(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Vu(c,y){on(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return on(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,w){v.forEach(function(U){c.call(y,U,w,this)},this)},this)};function $o(c,y){on(c);let v=[];if(typeof y=="string")Yo(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Rr(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=$o(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,v){Vu(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const U=Hi(v);v=$o(this,v);for(let H=0;H<v.length;H++){let se=U;v[H]!==""&&(se+="="+Hi(v[H])),c.push(se)}}return this.i=c.join("&")};function ku(c){const y=new xr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,w){const U=w.toLowerCase();w!=U&&(Vu(this,w),Ta(this,U,v))},c)),c.j=y}function Kn(c,y){const v=new Fn;if(f.Image){const w=new Image;w.onload=T(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=T(In,v,"TestLoadImage: error",!1,y,w),w.onabort=T(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(In,v,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Xo(c,y){const v=new Fn,w=new AbortController,U=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(U),H.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function Cr(){this.g=new bu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ti,Au),Ti.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Cs,Et),r=Cs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Yn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return je(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Is(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Nn(v),typeof c=="string"?v!=null&&Hi(v):Ke(c,y,v))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,Et);var bi=/^https?$/i,Jo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Ns(this,H);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())v.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Jo,y,void 0)>=0)||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ns(this,H)}};function Ns(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Zo(c),Fi(c)}function Zo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=H===0){let se=String(c.D).match(Du)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),w=!bi.test(se?se.toLowerCase():"")}v=w}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Zo(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var v=Cu(c[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[U]||[];y[U]=H,H.push(v)}ze(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){Tt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=qu(this,null,this.W),Si(this)};function Wo(c){if(Sa(c),c.I==3){var y=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Os(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=xs(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Bu(c)}function Dr(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function Sa(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;be||x(),ue||(be(),ue=!0),C.add(y,c),c.D=0}}function wa(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Gn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=V(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lu(this,U,y),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Os(this,v),H&&(this.R?y="headers="+Hi(Nn(H))+"&"+y:this.u&&Is(v,this.u,H)),Ho(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),U.U=!0,mi(U,v,null)):mi(U,v,y),this.I=2}}else this.I==3&&(c?el(this,c):this.i.length==0||qo(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.V++;const w=St(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Os(c,w),c.u&&c.o&&Is(w,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ho(c.h,v),mi(v,w,y)}function Os(c,y){c.H&&je(c.H,function(v,w){Ke(y,w,v)}),c.l&&je({},function(v,w){Ke(y,w,v)})}function Lu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let xe=-1;for(;;){const pt=["count="+v];xe==-1?v>0?(xe=U[0].g,pt.push("ofs="+xe)):xe=0:pt.push("ofs="+xe);let He=!0;for(let ot=0;ot<v;ot++){var H=U[ot].g;const Dn=U[ot].map;if(H-=xe,H<0)xe=Math.max(0,U[ot].g-100),He=!1;else try{H="req"+H+"_"||"";try{var se=Dn instanceof Map?Dn:Object.entries(Dn);for(const[xi,Xn]of se){let Jn=Xn;m(Xn)&&(Jn=Ar(Xn)),pt.push(H+xi+"="+encodeURIComponent(Jn))}}catch(xi){throw pt.push(H+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(Dn)}}if(He){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;be||x(),ue||(be(),ue=!0),C.add(y,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Dr(this),Pu(this))};function tl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Os(c,y),c.u&&c.o&&Is(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=xs(St(y)),v.u=null,v.R=!0,ya(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ms(this),Tt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,y){var v=null;if(c.g==y){xa(c),tl(c),c.g=null;var w=2}else if(vi(c.h,y))v=y.G,Fo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;w=ga(),Vt(w,new hi(w,v)),Si(c)}else ju(c);else if(U=y.m,U==3||U==0&&y.X>0||!(w==1&&wa(c,y)||w==2&&Ms(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const U=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(w,"https"),xs(w),U?Kn(w.toString(),v):Xo(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Bu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function qu(c,y,v){var w=v instanceof yn?St(v):new yn(v);if(w.g!="")y&&(w.g=y+"."+w.g),Sr(w,w.u);else{var U=f.location;w=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const H=new yn(null);w&&Pt(H,w),y&&(H.g=y),U&&Sr(H,U),v&&(H.h=v),w=H}return v=c.G,y=c.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",c.ka),Os(c,w),w}function Hu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ti({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Et.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}b(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ar(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Si(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.Z.N.call(this)};function Gu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Gu,Bt);function Qu(){Rn.call(this),this.status=1}b(Qu,Rn);function Qi(c){this.g=c}b(Qi,Fu),Qi.prototype.ra=function(){Vt(this.g,"a")},Qi.prototype.qa=function(c){Vt(this.g,new Gu(c))},Qi.prototype.pa=function(c){Vt(this.g,new Qu)},Qi.prototype.oa=function(){Vt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,ob=function(){return new Or},ab=function(){return ga()},sb=mt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,uh=Ss,Uo.COMPLETE="complete",rb=Uo,Su.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ql=Su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,ib=Xe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",z0="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Co="12.3.0";const ia=new Bh("@firebase/firestore");function io(){return ia.logLevel}function he(r,...e){if(ia.logLevel<=Ve.DEBUG){const n=e.map(jp);ia.debug(`Firestore (${Co}): ${r}`,...n)}}function _r(r,...e){if(ia.logLevel<=Ve.ERROR){const n=e.map(jp);ia.error(`Firestore (${Co}): ${r}`,...n)}}function po(r,...e){if(ia.logLevel<=Ve.WARN){const n=e.map(jp);ia.warn(`Firestore (${Co}): ${r}`,...n)}}function jp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lb(r,s,n)}function lb(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||lb(e,o,s)}function we(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ub{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class uI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new ub(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class hI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Xm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?ke(o,u):Cm(o)?1:-1}return ke(r.length,e.length)}const pI=55296,gI=57343;function Cm(r){const e=r.charCodeAt(0);return e>=pI&&e<=gI}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const q0="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class nt extends Di{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Di{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return yI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new Yt([q0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}function cb(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _I(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function H0(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function F0(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function mu(r,e){if(!hb(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const G0=-62135596800,Q0=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Q0);return new Ge(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Dt("string",Ge._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ge(0,0))}static max(){return new Ae(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function vI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ge(n+1,0):new Ge(n,s));return new hs(o,ge.empty(),e)}function EI(r){return new hs(r.readTime,r.key,tu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Ae.min(),ge.empty(),tu)}static max(){return new hs(Ae.max(),ge.empty(),tu)}}function TI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==bI)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function SI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Up=-1;function Kh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function wI(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fb="";function xI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=K0(e)),e=RI(r.get(n),e);return K0(e)}function RI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case fb:n+="";break;default:n+=u}}return n}function K0(r){return r+fb+""}function Y0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function db(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Lt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const CI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=CI.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const pb="server_timestamp",gb="__type__",yb="__previous_value__",_b="__local_write_time__";function zp(r){return(r?.mapValue?.fields||{})[gb]?.stringValue===pb}function Yh(r){const e=r.mapValue.fields[yb];return zp(e)?Yh(e):e}function nu(r){const e=fs(r.mapValue.fields[_b].timestampValue);return new Ge(e.seconds,e.nanos)}class II{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const xh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const vb="__type__",NI="__max__",eh={mapValue:{}},Eb="__vector__",Rh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zp(r)?4:OI(r)?9007199254740991:DI(r)?10:11:ve(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Y0(f)!==Y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(nu(r),nu(e));case 5:return Xm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),p=ds(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=ke(m[g],p[g]);if(T!==0)return T}return ke(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(_t(u.latitude),_t(f.latitude));return m!==0?m:ke(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return J0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Rh]?.arrayValue,T=p[Rh]?.arrayValue,b=ke(g?.values?.length||0,T?.values?.length||0);return b!==0?b:J0(g,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const S=Xm(p[b],T[b]);if(S!==0)return S;const k=yo(m[p[b]],g[T[b]]);if(k!==0)return k}return ke(p.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=fs(r),s=fs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function J0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function _o(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function ch(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+ch(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+ch(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function Z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function Bp(r){return!!r&&"arrayValue"in r}function W0(r){return!!r&&"nullValue"in r}function eE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function DI(r){return(r?.mapValue?.fields||{})[vb]?.stringValue===Eb}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function OI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Yl(this.value))}}function Tb(r){const e=[];return ys(r.fields,((n,s)=>{const o=new Yt([n]);if(hh(s)){const u=Tb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function tE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function MI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class bb{}class Nt extends bb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kI(e,n,s):n==="array-contains"?new PI(e,s):n==="in"?new UI(e,s):n==="not-in"?new zI(e,s):n==="array-contains-any"?new BI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LI(e,s):new jI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends bb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return Ab(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ab(r){return r.op==="and"}function Sb(r){return VI(r)&&Ab(r)}function VI(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Wm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(Sb(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function wb(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&wb(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function xb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(xb).join(" ,")+"}"})(r):"Filter"}class kI extends Nt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class LI extends Nt{constructor(e,n){super(e,"in",n),this.keys=Rb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Rb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Rb(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class PI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bp(n)&&ru(n.arrayValue,this.value)}}class UI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class zI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class BI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class qI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function iE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new qI(r,e,n,s,o,u,f)}function qp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!MI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nE(r.startAt,e.startAt)&&nE(r.endAt,e.endAt)}function ep(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HI(r,e,n,s,o,u,f,m){return new Do(r,e,n,s,o,u,f,m)}function Fp(r){return new Do(r)}function rE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cb(r){return r.collectionGroup!==null}function $l(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new su(Yt.keyField(),s))}return e.Ie}function Vi(r){const e=we(r);return e.Ee||(e.Ee=FI(e,$l(r))),e.Ee}function FI(r,e){if(r.limitType==="F")return iE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return iE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tp(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function np(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $h(r,e){return Hp(Vi(r),Vi(e))&&r.limitType===e.limitType}function Ib(r){return`${qp(Vi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>xb(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(r,e)}function GI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Nb(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=QI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QI(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return db(this.inner)}size(){return this.innerSize}}const KI=new ct(ge.comparator);function vr(){return KI}const Db=new ct(ge.comparator);function Hl(...r){let e=Db;for(const n of r)e=e.insert(n.key,n);return e}function Ob(r){let e=Db;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Xl()}function Mb(){return Xl()}function Xl(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YI=new ct(ge.comparator),$I=new Lt(ge.comparator);function Le(...r){let e=$I;for(const n of r)e=e.add(n);return e}const XI=new Lt(ke);function JI(){return XI}function Gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function Vb(r){return{integerValue:""+r}}function ZI(r,e){return wI(e)?Vb(e):Gp(r,e)}class Jh{constructor(){this._=void 0}}function WI(r,e,n){return r instanceof Ih?(function(o,u){const f={fields:{[gb]:{stringValue:pb},[_b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=Yh(u)),u&&(f.fields[yb]=u),{mapValue:f}})(n,e):r instanceof au?Lb(r,e):r instanceof ou?jb(r,e):(function(o,u){const f=kb(o,u),m=sE(f)+sE(o.Ae);return Zm(f)&&Zm(o.Ae)?Vb(m):Gp(o.serializer,m)})(r,e)}function eN(r,e,n){return r instanceof au?Lb(r,e):r instanceof ou?jb(r,e):n}function kb(r,e){return r instanceof Nh?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ih extends Jh{}class au extends Jh{constructor(e){super(),this.elements=e}}function Lb(r,e){const n=Pb(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends Jh{constructor(e){super(),this.elements=e}}function jb(r,e){let n=Pb(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Nh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(r){return _t(r.integerValue||r.doubleValue)}function Pb(r){return Bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?go(s.elements,o.elements,Bi):s instanceof Nh&&o instanceof Nh?Bi(s.Ae,o.Ae):s instanceof Ih&&o instanceof Ih})(r.transform,e.transform)}class nN{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zh{}function Ub(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bb(r.key,ri.none()):new pu(r.key,r.data,ri.none());{const n=r.data,s=mn.empty();let o=new Lt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new wn(o.toArray()),ri.none())}}function iN(r,e,n){r instanceof pu?(function(o,u,f){const m=o.value.clone(),p=oE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=oE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(zb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof pu?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=u.value.clone(),T=lE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=lE(u.fieldTransforms,p,f),T=f.data;return T.setAll(zb(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function rN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function aE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>tN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function oE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eN(f,m,n[o]))}return s}function lE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,WI(u,f,e))}return s}class Bb extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sN extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Ub(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>aE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>aE(n,s)))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qp(e,n,s,o)}}class oN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ue;function uN(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function qb(r){if(r===void 0)return _r("GRPC error has no .code"),Z.UNKNOWN;switch(r){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function cN(){return new TextEncoder}const hN=new ls([4294967295,4294967295],0);function uE(r){const e=cN().encode(r),n=new nb;return n.update(e),new Uint8Array(n.digest())}function cE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(hN)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uE(e),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=uE(e),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Ae.min(),o,new ct(ke),vr(),Le())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Le(),Le(),Le())}}class dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Hb{constructor(e,n){this.targetId=e,this.Ce=n}}class Fb{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.ve=0,this.Fe=fE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fN{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=th(),this.He=th(),this.Ye=new ct(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const f=new ge(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(p){if(p instanceof mb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(f,o,u)}catch(p){return po(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ep(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=th(),this.He=th(),this.Ye=new ct(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ct(ge.comparator)}function fE(){return new ct(ge.comparator)}const dN={asc:"ASCENDING",desc:"DESCENDING"},mN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class gN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yN(r,e){return Dh(r,e.toTimestamp())}function ki(r){return Qe(!!r,49232),Ae.fromTimestamp((function(n){const s=fs(n);return new Ge(s.seconds,s.nanos)})(r))}function Yp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Qb(r){const e=nt.fromString(r);return Qe(Jb(e),10190,{key:e.toString()}),e}function sp(r,e){return Yp(r.databaseId,e.path)}function Im(r,e){const n=Qb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Yb(n))}function Kb(r,e){return Yp(r.databaseId,e)}function _N(r){const e=Qb(r);return e.length===4?nt.emptyPath():Yb(e)}function ap(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Yb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,e,n){return{name:sp(r,e),fields:n.value.mapValue.fields}}function vN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),$t.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$t.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?Z.UNKNOWN:qb(g.code);return new le(T,g.message||"")})(f);n=new Fb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):Ae.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new dh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?ki(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new lN(o,u),m=s.targetId;n=new Hb(m,f)}}return n}function EN(r,e){let n;if(e instanceof pu)n={update:dE(r,e.key,e.value)};else if(e instanceof Bb)n={delete:sp(r,e.key)};else if(e instanceof _s)n={update:dE(r,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof sN))return ve(16599,{Vt:e.type});n={verify:sp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:yN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function TN(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(Ae.min())&&(f=ki(u)),new nN(f,o.transformResults||[])})(n,e)))):[]}function bN(r,e){return{documents:[Kb(r,e.path)]}}function AN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Kb(r,o);const u=(function(g){if(g.length!==0)return Xb(ai.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(S){return{field:so(S.field),direction:xN(S.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ip(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function SN(r){let e=_N(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const S=$b(b);return S instanceof ai&&Sb(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((S=>(function(Q){return new su(ao(Q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Kh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,k=b.values||[];return new Ch(k,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,k=b.values||[];return new Ch(k,S)})(n.endAt)),HI(e,o,f,u,m,"F",p,g)}function wN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $b(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>$b(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function xN(r){return dN[r]}function RN(r){return mN[r]}function CN(r){return pN[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Yt.fromServerFormat(r.fieldPath)}function Xb(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:RN(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>Xb(o)));return s.length===1?s[0]:{compositeFilter:{op:CN(n.op),filters:s}}})(r):ve(54877,{filter:r})}function IN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Jb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ss{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.yt=e}}function DN(r){const e=SN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}class ON{constructor(){this.Cn=new MN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(hs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Zb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const pE="LruGarbageCollector",VN=1048576;function gE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class kN{constructor(e){this.Ir=e,this.buffer=new Lt(gE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(pE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?he(pE,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class jN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Qh.ce);const s=new kN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(mE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),io()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function PN(r,e){return new jN(r,e)}class UN{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class BN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,wn.empty(),Ge.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=vr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof _s)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Jl(T.mutation,g,T.mutation.getFieldMask(),Ge.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new zN(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ct(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||wn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=Mb();T.forEach((S=>{if(!u.has(S)){const k=Ub(n.get(S),s.get(S));k!==null&&b.set(S,k),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Zs());let m=tu,p=u;return f.next((g=>te.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{p=p.insert(T,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((T=>({batchId:m,changes:Ob(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(b,S){return new Do(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))}));let m=Hl();return f.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Jl(T.mutation,g,wn.empty(),Ge.now()),Xh(n,g)&&(m=m.insert(p,g))})),m}))}}class qN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:ki(o.readTime)}})(n)),te.resolve()}}class HN{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Zs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new oN(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class FN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class $p{constructor(){this.Qr=new Lt(zt.$r),this.Ur=new Lt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class GN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new aN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Up:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ke);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ge(u),0);let m=new Lt(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class QN{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||TI(EI(T),s)<=0||(o.has(T.key)||Xh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new KN(this)}getSize(e){return te.resolve(this.size)}}class KN extends UN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class YN{constructor(e){this.persistence=e,this.si=new ua((n=>qp(n)),Hp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Wb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new FN,this.referenceDelegate=e(this),this.Pi=new YN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(o){return new QN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NN(n),this.Ii=new qN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new GN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new $N(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class $N extends AI{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new $p,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new ua((s=>xI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PN(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,n.fromCache,s,o)}}class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return B2()?8:SI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new XN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(io()<=Ve.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):te.resolve())}ys(e,n){if(rE(n))return te.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,np(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return rE(n)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(io()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,vI(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Lt(Nb(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Zp="LocalStore",ZN=3e8;class WN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(ke),this.xs=new ua((u=>qp(u)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eD(r,e,n,s){return new WN(r,e,n,s)}async function e1(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function tD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,S=b.keys();let k=te.resolve();return S.forEach((Q=>{k=k.next((()=>T.getEntry(p,Q))).next((J=>{const F=g.docVersions.get(Q);Qe(F!==null,48541),J.version.compareTo(F)<0&&(b.applyToRemoteDocument(J,g),J.isValidDocument()&&(J.setReadTime(g.commitVersion),T.addEntry(J)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function t1(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function nD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken($t.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(b,k),(function(J,F,ne){return J.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ZN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,k,T)&&m.push(n.Pi.updateTargetData(u,k))}));let p=vr(),g=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(iD(u,f,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function iD(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function rD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function sD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function op(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;he(Zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yE(r,e,n){const s=we(r);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,T){const b=we(p),S=b.xs.get(T);return S!==void 0?te.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,T)})(s,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Le()))).next((m=>(aD(s,GI(e),m),{documents:m,Qs:u})))))}function aD(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class _E{constructor(){this.activeTargetIds=JI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oD{constructor(){this.Mo=new _E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lD{Oo(e){}shutdown(){}}const vE="ConnectivityMonitor";class EE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(vE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function lp(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const Nm="RestConnection",uD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=lp(),m=this.zo(e,n.toUriEncodedString());he(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=wo(g);return this.Jo(e,m,p,s,T).then((b=>(he(Nm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw po(Nm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=uD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class hD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class fD extends cD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=lp();return new Promise(((m,p)=>{const g=new ib;g.setWithCredentials(!0),g.listenOnce(rb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const b=g.getResponseJson();he(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case uh.TIMEOUT:he(Jt,`RPC '${e}' ${f} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const S=g.getStatus();if(he(Jt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const J=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(Q.status);p(new le(J,Q.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);he(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ob(),m=ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");he(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);this.I_(b);let S=!1,k=!1;const Q=new hD({Yo:F=>{k?he(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(he(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),he(Jt,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Zo:()=>b.close()}),J=(F,ne,ie)=>{F.listen(ne,(re=>{try{ie(re)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return J(b,ql.EventType.OPEN,(()=>{k||(he(Jt,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),J(b,ql.EventType.CLOSE,(()=>{k||(k=!0,he(Jt,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(b))})),J(b,ql.EventType.ERROR,(F=>{k||(k=!0,po(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Q.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),J(b,ql.EventType.MESSAGE,(F=>{if(!k){const ne=F.data[0];Qe(!!ne,16349);const ie=ne,re=ie?.error||ie[0]?.error;if(re){he(Jt,`RPC '${e}' stream ${o} received error:`,re);const _e=re.status;let be=(function(x){const R=It[x];if(R!==void 0)return qb(R)})(_e),ue=re.message;be===void 0&&(be=Z.INTERNAL,ue="Unknown error status: "+_e+" with message "+re.message),k=!0,Q.a_(new le(be,ue)),b.close()}else he(Jt,`RPC '${e}' stream ${o} received:`,ne),Q.u_(ne)}})),J(m,sb.STAT_EVENT,(F=>{F.stat===$m.PROXY?he(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===$m.NOPROXY&&he(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}function ef(r){return new gN(r,!0)}class n1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TE="PersistentStream";class i1{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dD extends i1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?ki(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ep(p)?{documents:bN(u,p)}:{query:AN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Gb(u,f.resumeToken);const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=wN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.q_(n)}}class mD extends i1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TN(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>EN(this.serializer,s)))};this.q_(n)}}class pD{}class gD extends pD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,rp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,rp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class _D{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ca(this)&&(he(ra,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tf(g)})(this))}))})),this.Ra=new yD(s,o)}}async function tf(r){if(ca(r))for(const e of r.da)await e(!0)}async function yu(r){for(const e of r.da)await e(!1)}function r1(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):Oo(n).O_()&&eg(n,e))}function Wp(r,e){const n=we(r),s=Oo(n);n.Ia.delete(e),s.O_()&&s1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function s1(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function tg(r){r.Va=new fN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function ng(r){return ca(r)&&!Oo(r).x_()&&r.Ia.size>0}function ca(r){return we(r).Ea.size===0}function a1(r){r.Va=void 0}async function vD(r){r.Ra.set("Online")}async function ED(r){r.Ia.forEach(((e,n)=>{eg(r,e)}))}async function TD(r,e){a1(r),ng(r)?(r.Ra.ha(e),tg(r)):r.Ra.set("Unknown")}async function bD(r,e,n){if(r.Ra.set("Online"),e instanceof Fb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mh(r,s)}else if(e instanceof dh?r.Va.Ze(e):e instanceof Hb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await t1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken($t.EMPTY_BYTE_STRING,T.snapshotVersion)),s1(u,p);const b=new ss(T.target,p,g,T.sequenceNumber);eg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ra,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await yu(r),r.Ra.set("Offline"),n||(n=()=>t1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function o1(r,e){return e().catch((n=>Mh(r,n,e)))}async function nf(r){const e=we(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;AD(e);)try{const o=await rD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,SD(e,o)}catch(o){await Mh(e,o)}l1(e)&&u1(e)}function AD(r){return ca(r)&&r.Ta.length<10}function SD(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function l1(r){return ca(r)&&!ps(r).x_()&&r.Ta.length>0}function u1(r){ps(r).start()}async function wD(r){ps(r).ra()}async function xD(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function RD(r,e,n){const s=r.Ta.shift(),o=Qp.from(s,e,n);await o1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function CD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(f){return uN(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await o1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,e),l1(r)&&u1(r)}async function bE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),he(ra,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function ID(r,e){const n=we(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:vD.bind(null,r),t_:ED.bind(null,r),r_:TD.bind(null,r),H_:bD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ng(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),a1(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new mD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:wD.bind(null,r),r_:CD.bind(null,r),ta:xD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ig(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(r,e){if(_r("AsyncQueue",`${e}: ${r}`),No(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class AE{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ND{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DD{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=SE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function SE(){return new ua((r=>Ib(r)),$h)}async function c1(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ND,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=rg(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function h1(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&sg(n)}function MD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function sg(r){r.Ca.forEach((e=>{e.next()}))}var up,wE;(wE=up||(up={})).Ma="default",wE.Cache="cache";class f1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}class d1{constructor(e){this.key=e}}class m1{constructor(e){this.key=e}}class VD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Nb(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new AE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const S=o.get(T),k=Xh(this.query,b)?b:null,Q=!!S&&this.mutatedKeys.has(S.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;S&&k?S.data.isEqual(k.data)?Q!==J&&(s.track({type:3,doc:k}),F=!0):this.su(S,k)||(s.track({type:2,doc:k}),F=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),F=!0):S&&!k&&(s.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(k?(f=f.add(k),u=J?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(k,Q){const J=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return J(k)-J(Q)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new m1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new d1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class kD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((m=>Ib(m)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PD(r,e,n=!0){const s=E1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await p1(s,e,n,!0),o}async function UD(r,e){const n=E1(r);await p1(n,e,!0,!1)}async function p1(r,e,n,s){const o=await sD(r.localStore,Vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&r1(r.remoteStore,o),m}async function zD(r,e,n,s,o){r.pu=(b,S,k)=>(async function(J,F,ne,ie){let re=F.view.ru(ne);re.Cs&&(re=await yE(J.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,re))));const _e=ie&&ie.targetChanges.get(F.targetId),be=ie&&ie.targetMismatches.get(F.targetId)!=null,ue=F.view.applyChanges(re,J.isPrimaryClient,_e,be);return RE(J,F.targetId,ue.au),ue.snapshot})(r,b,S,k);const u=await yE(r.localStore,e,!0),f=new VD(e,u.Qs),m=f.ru(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);RE(r,n,g.au);const T=new kD(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function BD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!$h(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(Io)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function qD(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function HD(r,e,n){const s=XD(r);try{const o=await(function(f,m){const p=we(f),g=Ge.now(),T=m.reduce(((k,Q)=>k.add(Q.key)),Le());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=vr(),J=Le();return p.Ns.getEntries(k,T).next((F=>{Q=F,Q.forEach(((ne,ie)=>{ie.isValidDocument()||(J=J.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,Q))).next((F=>{b=F;const ne=[];for(const ie of m){const re=rN(ie,b.get(ie.key).overlayedDocument);re!=null&&ne.push(new _s(ie.key,re,Tb(re.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,ne,m)})).next((F=>{S=F;const ne=F.applyToLocalDocumentSet(b,J);return p.documentOverlayCache.saveOverlays(k,F.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:Ob(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await _u(s,o.changes),await nf(s.remoteStore)}catch(o){const u=rg(o,"Failed to persist write");n.reject(u)}}async function g1(r,e){const n=we(r);try{const s=await nD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await _u(n,s,e)}catch(s){await Io(s)}}function xE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&sg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Le().add(u),p=new Wh(Ae.min(),new Map,new ct(ke),f,m);await g1(s,p),s.du=s.du.remove(u),s.Au.delete(e),og(s)}else await op(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(Io)}async function GD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await tD(n.localStore,e);_1(n,s,null),y1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Io(o)}}async function QD(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qe(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);_1(s,e,n),y1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Io(o)}}function y1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function _1(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||v1(r,s)}))}function v1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),og(r))}function RE(r,e,n){for(const s of n)s instanceof d1?(r.Ru.addReference(s.key,e),KD(r,s)):s instanceof m1?(he(ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||v1(r,s.key)):ve(19791,{wu:s})}function KD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(ag,"New document in limbo: "+n),r.Eu.add(s),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new LD(n)),r.du=r.du.insert(n,s),r1(r.remoteStore,new ss(Vi(Fp(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function _u(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Jp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(S=>te.forEach(S.Es,(k=>T.persistence.referenceDelegate.addReference(b,S.targetId,k))).next((()=>te.forEach(S.ds,(k=>T.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))))))}catch(b){if(!No(b))throw b;he(Zp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const k=T.Ms.get(S),Q=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(Q);T.Ms=T.Ms.insert(S,J)}}})(s.localStore,u))}async function YD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){he(ag,"User change. New user:",e.toKey());const s=await e1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Ls)}}function $D(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function E1(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=g1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.Pu.H_=OD.bind(null,e.eventManager),e.Pu.yu=MD.bind(null,e.eventManager),e}function XD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eD(this.persistence,new JN,e.initialUser,this.serializer)}Cu(e){return new Wb(Xp.mi,this.serializer)}Du(e){return new oD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class JD extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Wb((s=>Oh.mi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YD.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DD})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=(function(u){return new fD(u)})(e.databaseInfo);return(function(u,f,m,p){return new gD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new _D(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new lD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,T){const b=new jD(o,u,f,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);he(ra,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};class T1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class ZD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),he(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await e1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function CE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await WD(r);he(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>bE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>bE(e.remoteStore,o))),r._onlineComponents=e}async function WD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(gs,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Om(r,new Vh)}}else he(gs,"Using default OfflineComponentProvider"),await Om(r,new JD(void 0));return r._offlineComponents}async function b1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(gs,"Using user provided OnlineComponentProvider"),await CE(r,r._uninitializedComponentsProvider._online)):(he(gs,"Using default OnlineComponentProvider"),await CE(r,new hp))),r._onlineComponents}function e4(r){return b1(r).then((e=>e.syncEngine))}async function A1(r){const e=await b1(r),n=e.eventManager;return n.onListen=PD.bind(null,e.syncEngine),n.onUnlisten=BD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qD.bind(null,e.syncEngine),n}function t4(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new T1({next:S=>{T.Nu(),f.enqueueAndForget((()=>h1(u,b)));const k=S.docs.has(m);!k&&S.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new f1(Fp(m.path),T,{includeMetadataChanges:!0,qa:!0});return c1(u,b)})(await A1(r),r.asyncQueue,e,n,s))),s.promise}function n4(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new T1({next:S=>{T.Nu(),f.enqueueAndForget((()=>h1(u,b))),S.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new f1(m,T,{includeMetadataChanges:!0,qa:!0});return c1(u,b)})(await A1(r),r.asyncQueue,e,n,s))),s.promise}function S1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const IE=new Map;const w1="firestore.googleapis.com",NE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=NE}else this.host=e.host,this.ssl=e.ssl??NE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VN)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lI;switch(s.type){case"firstParty":return new fI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=IE.get(n);s&&(he("ComponentProvider","Removing Datastore"),IE.delete(n),s.terminate())})(this),Promise.resolve()}}function i4(r,e,n,s={}){r=zi(r,rf);const o=wo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(pT(`https://${m}`),gT("Firestore",!0)),u.host!==w1&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!cs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Zt.MOCK_USER;else{g=M2(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(b)}r._authCredentials=new uI(new ub(g,T))}}class ha{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,vt._jsonSchema))return new vt(e,s||null,new ge(nt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Dt("string",vt._jsonSchemaVersion),referencePath:Dt("string")};class us extends ha{constructor(e,n,s){super(e,n,Fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ge(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function vu(r,e,...n){if(r=Ot(r),cb("collection","path",e),r instanceof rf){const s=nt.fromString(e,...n);return F0(s),new us(r,null,s)}{if(!(r instanceof vt||r instanceof us))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return F0(s),new us(r.firestore,null,s)}}function Oi(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=Pp.newId()),cb("doc","path",e),r instanceof rf){const s=nt.fromString(e,...n);return H0(s),new vt(r,null,new ge(s))}{if(!(r instanceof vt||r instanceof us))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return H0(s),new vt(r.firestore,r instanceof us?r.converter:null,new ge(s))}}const OE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&he(OE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;he(OE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Mo extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function r4(r,e){const n=typeof r=="object"?r:xp(),s=typeof r=="string"?r:xh,o=la(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=D2("firestore");u&&i4(o,...u)}return o}function lg(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||s4(r),r._firestoreClient}function s4(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new II(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,S1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Dt("string",ji._jsonSchemaVersion),vectorValues:Dt("object")};const a4=/^__.*__$/;class o4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class x1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class cg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&a4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}Cc(e,n,s,o=!1){return new cg({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new l4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function C1(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",f,s);const m=I1(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const S=fp(e,b,n);if(!f.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);D1(T,S)||T.push(S)}p=new wn(T),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new o4(new mn(m),p,g)}class of extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function u4(r,e,n,s){const o=r.Cc(1,e,n);hg("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ys(s,((p,g)=>{const T=fg(e,p,n);g=Ot(g);const b=o.yc(T);if(g instanceof of)u.push(T);else{const S=Eu(g,b);S!=null&&(u.push(T),f.set(T,S))}}));const m=new wn(u);return new x1(f,m,o.fieldTransforms)}function c4(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[fp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(fp(e,u[S])),p.push(u[S+1]);const g=[],T=mn.empty();for(let S=m.length-1;S>=0;--S)if(!D1(g,m[S])){const k=m[S];let Q=p[S];Q=Ot(Q);const J=f.yc(k);if(Q instanceof of)g.push(k);else{const F=Eu(Q,J);F!=null&&(g.push(k),T.set(k,F))}}const b=new wn(g);return new x1(T,b,f.fieldTransforms)}function h4(r,e,n,s=!1){return Eu(n,r.Cc(s?4:3,e))}function Eu(r,e){if(N1(r=Ot(r)))return hg("Unsupported field value:",e,r),I1(r,e);if(r instanceof ug)return(function(s,o){if(!R1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ge.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Ge){const u=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Gb(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(f,m){return{mapValue:{fields:{[vb]:{stringValue:Eb},[Rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Gh(s)}`)})(r,e)}function I1(r,e){const n={};return db(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const u=Eu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function N1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ge||r instanceof Li||r instanceof zn||r instanceof vt||r instanceof ug||r instanceof ji)}function hg(r,e,n){if(!N1(n)||!hb(n)){const s=Gh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function fp(r,e,n){if((e=Ot(e))instanceof sf)return e._internalPath;if(typeof e=="string")return fg(r,e);throw kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const f4=new RegExp("[~\\*/\\[\\]]");function fg(r,e,n){if(e.search(f4)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function D1(r,e){return r.some((n=>n.isEqual(e)))}class O1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d4 extends O1{data(){return super.data()}}function lf(r,e){return typeof e=="string"?fg(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}function m4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class M1 extends dg{}function mg(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof pg)).length,m=u.filter((p=>p instanceof uf)).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class uf extends M1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new uf(e,n,s)}_apply(e){const n=this._parse(e);return k1(e._query,n),new ha(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=af(e.firestore);return(function(u,f,m,p,g,T,b){let S;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){LE(b,T);const Q=[];for(const J of b)Q.push(kE(p,u,J));S={arrayValue:{values:Q}}}else S=kE(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||LE(b,T),S=h4(m,f,b,T==="in"||T==="not-in");return Nt.create(g,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V1(r,e,n){const s=e,o=lf("where",r);return uf._create(o,s,n)}class pg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)k1(f,p),f=tp(f,p)})(e._query,n),new ha(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends M1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Do(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function p4(r,e="asc"){const n=e,s=lf("orderBy",r);return gg._create(s,n)}function kE(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(r,new ge(s))}if(n instanceof vt)return Z0(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function LE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g4{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Li(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(Jb(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function L1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends O1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class mh extends ta{data(e={}){return super.data(e)}}class ho{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:y4(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function dp(r){r=zi(r,vt);const e=zi(r.firestore,Mo);return t4(lg(e),r._key).then((n=>v4(e,r,n)))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Dt("string",ho._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class j1 extends g4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function cf(r){r=zi(r,ha);const e=zi(r.firestore,Mo),n=lg(e),s=new j1(e);return m4(r._query),n4(n,r._query).then((o=>new ho(e,s,r,o)))}function jE(r,e,n){r=zi(r,vt);const s=zi(r.firestore,Mo),o=L1(r.converter,e,n);return yg(s,[C1(af(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function hf(r,e,n,...s){r=zi(r,vt);const o=zi(r.firestore,Mo),u=af(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof sf?c4(u,"updateDoc",r._key,e,n,s):u4(u,"updateDoc",r._key,e),yg(o,[f.toMutation(r._key,ri.exists(!0))])}function _4(r,e){const n=zi(r.firestore,Mo),s=Oi(r),o=L1(r.converter,e);return yg(n,[C1(af(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function yg(r,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>HD(await e4(s),o,u))),u.promise})(lg(r),e)}function v4(r,e,n){const s=n.docs.get(e._key),o=new j1(r);return new ta(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Co=o})(xo),Pi(new si("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Mo(new cI(s.getProvider("auth-internal")),new dI(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bn(U0,z0,e),Bn(U0,z0,"esm2020")})();var E4="firebase",T4="12.6.0";Bn(E4,T4,"app");const P1="@firebase/installations",_g="0.6.19";const U1=1e4,z1=`w:${_g}`,B1="FIS_v2",b4="https://firebaseinstallations.googleapis.com/v1",A4=3600*1e3,S4="installations",w4="Installations";const x4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new oa(S4,w4,x4);function q1(r){return r instanceof li&&r.code.includes("request-failed")}function H1({projectId:r}){return`${b4}/projects/${r}/installations`}function F1(r){return{token:r.token,requestStatus:2,expiresIn:C4(r.expiresIn),creationTime:Date.now()}}async function G1(r,e){const s=(await e.json()).error;return sa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Q1({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function R4(r,{refreshToken:e}){const n=Q1(r);return n.append("Authorization",I4(e)),n}async function K1(r){const e=await r();return e.status>=500&&e.status<600?r():e}function C4(r){return Number(r.replace("s","000"))}function I4(r){return`${B1} ${r}`}async function N4({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=H1(r),o=Q1(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:B1,appId:r.appId,sdkVersion:z1},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await K1(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:F1(g.authToken)}}else throw await G1("Create Installation",p)}function Y1(r){return new Promise(e=>{setTimeout(e,r)})}function D4(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const O4=/^[cdef][\w-]{21}$/,mp="";function M4(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=V4(r);return O4.test(n)?n:mp}catch{return mp}}function V4(r){return D4(r).substr(0,22)}function ff(r){return`${r.appName}!${r.appId}`}const $1=new Map;function X1(r,e){const n=ff(r);J1(n,e),k4(n,e)}function J1(r,e){const n=$1.get(r);if(n)for(const s of n)s(e)}function k4(r,e){const n=L4();n&&n.postMessage({key:r,fid:e}),j4()}let Ws=null;function L4(){return!Ws&&"BroadcastChannel"in self&&(Ws=new BroadcastChannel("[Firebase] FID Change"),Ws.onmessage=r=>{J1(r.data.key,r.data.fid)}),Ws}function j4(){$1.size===0&&Ws&&(Ws.close(),Ws=null)}const P4="firebase-installations-database",U4=1,aa="firebase-installations-store";let Mm=null;function vg(){return Mm||(Mm=bT(P4,U4,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(aa)}}})),Mm}async function Lh(r,e){const n=ff(r),o=(await vg()).transaction(aa,"readwrite"),u=o.objectStore(aa),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&X1(r,e.fid),e}async function Z1(r){const e=ff(r),s=(await vg()).transaction(aa,"readwrite");await s.objectStore(aa).delete(e),await s.done}async function df(r,e){const n=ff(r),o=(await vg()).transaction(aa,"readwrite"),u=o.objectStore(aa),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&X1(r,m.fid),m}async function Eg(r){let e;const n=await df(r.appConfig,s=>{const o=z4(s),u=B4(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===mp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function z4(r){const e=r||{fid:M4(),registrationStatus:0};return W1(e)}function B4(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(sa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=q4(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:H4(r)}:{installationEntry:e}}async function q4(r,e){try{const n=await N4(r,e);return Lh(r.appConfig,n)}catch(n){throw q1(n)&&n.customData.serverCode===409?await Z1(r.appConfig):await Lh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function H4(r){let e=await PE(r.appConfig);for(;e.registrationStatus===1;)await Y1(100),e=await PE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Eg(r);return s||n}return e}function PE(r){return df(r,e=>{if(!e)throw sa.create("installation-not-found");return W1(e)})}function W1(r){return F4(r)?{fid:r.fid,registrationStatus:0}:r}function F4(r){return r.registrationStatus===1&&r.registrationTime+U1<Date.now()}async function G4({appConfig:r,heartbeatServiceProvider:e},n){const s=Q4(r,n),o=R4(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:z1,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await K1(()=>fetch(s,m));if(p.ok){const g=await p.json();return F1(g)}else throw await G1("Generate Auth Token",p)}function Q4(r,{fid:e}){return`${H1(r)}/${e}/authTokens:generate`}async function Tg(r,e=!1){let n;const s=await df(r.appConfig,u=>{if(!eA(u))throw sa.create("not-registered");const f=u.authToken;if(!e&&$4(f))return u;if(f.requestStatus===1)return n=K4(r,e),u;{if(!navigator.onLine)throw sa.create("app-offline");const m=J4(u);return n=Y4(r,m),m}});return n?await n:s.authToken}async function K4(r,e){let n=await UE(r.appConfig);for(;n.authToken.requestStatus===1;)await Y1(100),n=await UE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Tg(r,e):s}function UE(r){return df(r,e=>{if(!eA(e))throw sa.create("not-registered");const n=e.authToken;return Z4(n)?{...e,authToken:{requestStatus:0}}:e})}async function Y4(r,e){try{const n=await G4(r,e),s={...e,authToken:n};return await Lh(r.appConfig,s),n}catch(n){if(q1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Z1(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Lh(r.appConfig,s)}throw n}}function eA(r){return r!==void 0&&r.registrationStatus===2}function $4(r){return r.requestStatus===2&&!X4(r)}function X4(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+A4}function J4(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Z4(r){return r.requestStatus===1&&r.requestTime+U1<Date.now()}async function W4(r){const e=r,{installationEntry:n,registrationPromise:s}=await Eg(e);return s?s.catch(console.error):Tg(e).catch(console.error),n.fid}async function eO(r,e=!1){const n=r;return await tO(n),(await Tg(n,e)).token}async function tO(r){const{registrationPromise:e}=await Eg(r);e&&await e}function nO(r){if(!r||!r.options)throw Vm("App Configuration");if(!r.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Vm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Vm(r){return sa.create("missing-app-config-values",{valueName:r})}const tA="installations",iO="installations-internal",rO=r=>{const e=r.getProvider("app").getImmediate(),n=nO(e),s=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},sO=r=>{const e=r.getProvider("app").getImmediate(),n=la(e,tA).getImmediate();return{getId:()=>W4(n),getToken:o=>eO(n,o)}};function aO(){Pi(new si(tA,rO,"PUBLIC")),Pi(new si(iO,sO,"PRIVATE"))}aO();Bn(P1,_g);Bn(P1,_g,"esm2020");const jh="analytics",oO="firebase_id",lO="origin",uO=60*1e3,cO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bg="https://www.googletagmanager.com/gtag/js";const sn=new Bh("@firebase/analytics");const hO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new oa("analytics","Analytics",hO);function fO(r){if(!r.startsWith(bg)){const e=xn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function nA(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function dO(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function mO(r,e){const n=dO("firebase-js-sdk-policy",{createScriptURL:fO}),s=document.createElement("script"),o=`${bg}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function pO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function gO(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await nA(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){sn.error(m)}r("config",o,u)}async function yO(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await nA(n);for(const p of f){const g=m.find(b=>b.measurementId===p),T=g&&e[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){sn.error(u)}}function _O(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await yO(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await gO(r,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){sn.error(m)}}return o}function vO(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=_O(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function EO(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bg)&&n.src.includes(r))return n;return null}const TO=30,bO=1e3;class AO{constructor(e={},n=bO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iA=new AO;function SO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function wO(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:SO(n)},o=cO.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function xO(r,e=iA,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw xn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new IO;return setTimeout(async()=>{m.abort()},uO),rA({appId:s,apiKey:o,measurementId:u},f,m,e)}async function rA(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=iA){const{appId:u,measurementId:f}=r;try{await RO(s,e)}catch(m){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await wO(r);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!CO(p)){if(o.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?f0(n,o.intervalMillis,TO):f0(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,T),sn.debug(`Calling attemptFetch again in ${g} millis`),rA(r,T,s,o)}}function RO(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function CO(r){if(!(r instanceof li)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class IO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NO(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f={...s,send_to:u};r("event",n,f)}}async function DO(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function OO(){if(_T())try{await vT()}catch(r){return sn.warn(xn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return sn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MO(r,e,n,s,o,u,f){const m=xO(r);m.then(S=>{n[S.measurementId]=S.appId,r.options.measurementId&&S.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>sn.error(S)),e.push(m);const p=OO().then(S=>{if(S)return s.getId()}),[g,T]=await Promise.all([m,p]);EO(u)||mO(u,g.measurementId),o("js",new Date);const b=f?.config??{};return b[lO]="firebase",b.update=!0,T!=null&&(b[oO]=T),o("config",g.measurementId,b),g.measurementId}class VO{constructor(e){this.app=e}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},zE=[];const BE={};let km="dataLayer",kO="gtag",qE,Ag,HE=!1;function LO(){const r=[];if(yT()&&r.push("This is a browser extension environment."),q2()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function jO(r,e,n){LO();const s=r.options.appId;if(!s)throw xn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(fo[s]!=null)throw xn.create("already-exists",{id:s});if(!HE){pO(km);const{wrappedGtag:u,gtagCore:f}=vO(fo,zE,BE,km,kO);Ag=u,qE=f,HE=!0}return fo[s]=MO(r,zE,BE,e,qE,km,n),new VO(r)}function PO(r=xp()){r=Ot(r);const e=la(r,jh);return e.isInitialized()?e.getImmediate():UO(r)}function UO(r,e={}){const n=la(r,jh);if(n.isInitialized()){const o=n.getImmediate();if(cs(e,n.getOptions()))return o;throw xn.create("already-initialized")}return n.initialize({options:e})}function zO(r,e,n){r=Ot(r),DO(Ag,fo[r.app.options.appId],e,n).catch(s=>sn.error(s))}function BO(r,e,n,s){r=Ot(r),NO(Ag,fo[r.app.options.appId],e,n,s).catch(o=>sn.error(o))}const FE="@firebase/analytics",GE="0.10.19";function qO(){Pi(new si(jh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return jO(s,o,n)},"PUBLIC")),Pi(new si("analytics-internal",r,"PRIVATE")),Bn(FE,GE),Bn(FE,GE,"esm2020");function r(e){try{const n=e.getProvider(jh).getImmediate();return{logEvent:(s,o,u)=>BO(n,s,o,u),setUserProperties:(s,o)=>zO(n,s,o)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}qO();const HO={apiKey:"AIzaSyC21w2owMklDBusCJQpILTYsZ6rLXuQpfE",authDomain:"tp-repair.firebaseapp.com",projectId:"tp-repair",storageBucket:"tp-repair.firebasestorage.app",messagingSenderId:"177253446010",appId:"1:177253446010:web:337200a4415e270f7b66c3",measurementId:"G-BWJHC8SEE9"},Sg=AT(HO);PO(Sg);const Lm=aI(Sg),pn=r4(Sg),sA=new ur;sA.setCustomParameters({prompt:"select_account"});const FO=["your-email@gmail.com"],GO=[],QO=r=>FO.includes(r?.toLowerCase()),KO=r=>GO.includes(r?.toLowerCase()),YO=r=>QO(r)?"admin":KO(r)?"technician":"user",aA=P.createContext(),Tr=()=>{const r=P.useContext(aA);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},$O=({children:r})=>{const[e,n]=P.useState(null),[s,o]=P.useState(null),[u,f]=P.useState(!0),m=async()=>{try{const S=(await pC(Lm,sA)).user,k=await dp(Oi(pn,"users",S.uid));if(k.exists())o(k.data().role);else{const Q=YO(S.email);await jE(Oi(pn,"users",S.uid),{uid:S.uid,email:S.email,displayName:S.displayName||S.email,photoURL:S.photoURL||null,role:Q,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),o(Q)}return S}catch(b){throw console.error("Error signing in with Google:",b),b}},p=async()=>{try{await $R(Lm),n(null),o(null)}catch(b){throw console.error("Error signing out:",b),b}},g=async(b,S)=>{try{await jE(Oi(pn,"users",b),{role:S,updatedAt:new Date().toISOString()},{merge:!0}),b===e?.uid&&o(S)}catch(k){throw console.error("Error updating user role:",k),k}};P.useEffect(()=>YR(Lm,async S=>{if(n(S),S)try{const k=await dp(Oi(pn,"users",S.uid));k.exists()?o(k.data().role):o("user")}catch(k){console.error("Error fetching user role:",k),o("user")}else o(null);f(!1)}),[]);const T={currentUser:e,userRole:s,loading:u,signInWithGoogle:m,signOut:p,updateUserRole:g,isAdmin:s==="admin",isTechnician:s==="technician",isUser:s==="user"};return E.jsx(aA.Provider,{value:T,children:!u&&r})};const XO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),QE=r=>{const e=JO(r);return e.charAt(0).toUpperCase()+e.slice(1)},oA=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),ZO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eM=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...WO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:oA("lucide",o),...!u&&!ZO(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,T])=>P.createElement(g,T)),...Array.isArray(u)?u:[u]]));const Mt=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(eM,{ref:u,iconNode:e,className:oA(`lucide-${XO(QE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=QE(r),n};const tM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lA=Mt("calendar",tM);const nM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iM=Mt("circle-check-big",nM);const rM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],KE=Mt("file-text",rM);const sM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aM=Mt("history",sM);const oM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lM=Mt("image",oM);const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cM=Mt("info",uM);const hM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],fM=Mt("log-in",hM);const dM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mM=Mt("log-out",dM);const pM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uA=Mt("map-pin",pM);const gM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yM=Mt("menu",gM);const _M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cA=Mt("search",_M);const vM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ph=Mt("shield",vM);const EM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YE=Mt("triangle-alert",EM);const TM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bM=Mt("upload",TM);const AM=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pp=Mt("user-cog",AM);const SM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wM=Mt("user-plus",SM);const xM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hA=Mt("user",xM);const RM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jm=Mt("users",RM);const CM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],fA=Mt("wrench",CM);const IM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mf=Mt("x",IM),fr=({isOpen:r,onClose:e,onConfirm:n,title:s,message:o,confirmText:u="",cancelText:f="",type:m="warning",showCancel:p=!0})=>{if(!r)return null;const g=()=>{switch(m){case"danger":return E.jsx(YE,{size:24});case"success":return E.jsx(iM,{size:24});case"info":return E.jsx(cM,{size:24});default:return E.jsx(YE,{size:24})}},T=()=>{switch(m){case"danger":return"bg-red-100 text-red-600";case"success":return"bg-green-100 text-green-600";case"info":return"bg-blue-100 text-blue-600";default:return"bg-yellow-100 text-yellow-600"}},b=()=>{switch(m){case"danger":return"bg-red-600 hover:bg-red-700";case"success":return"bg-green-600 hover:bg-green-700";case"info":return"bg-blue-600 hover:bg-blue-700";default:return"bg-yellow-600 hover:bg-yellow-700 text-white"}};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[70]",onClick:e,children:E.jsxs("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",onClick:S=>S.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:`p-2 rounded-full ${T()}`,children:g()}),E.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s})]}),E.jsx("p",{className:"text-gray-600 mb-6",children:o}),E.jsxs("div",{className:"flex justify-end gap-3",children:[p&&E.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors font-medium",children:f}),E.jsx("button",{onClick:()=>{n(),m!=="success"&&e()},className:`px-4 py-2 text-white rounded-lg transition-colors font-medium ${b()}`,children:u})]})]})})},NM=({onMenuClick:r,isMenuOpen:e})=>{const n=So(),{currentUser:s,signOut:o,userRole:u}=Tr(),[f,m]=P.useState(!1),[p,g]=P.useState(!1),T=async()=>{try{await o(),n("/login")}catch(k){console.error("Error signing out:",k)}},b=k=>{switch(k){case"admin":return"bg-red-100 text-red-800";case"technician":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=k=>{switch(k){case"admin":return"";case"technician":return"";default:return""}};return E.jsxs(E.Fragment,{children:[E.jsxs("header",{className:"bg-[#1a7f45] text-white p-4 flex items-center justify-between shadow-md relative z-[60]",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:r,className:"mr-4 focus:outline-none hover:bg-green-700 p-1 rounded transition-colors",children:e?E.jsx(mf,{size:28}):E.jsx(yM,{size:28})}),E.jsxs("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>n("/"),children:[E.jsx("img",{src:"./assets/taweethapisek-logo.png",alt:"Logo",className:"h-10 w-auto mr-3"}),E.jsx("h1",{className:"text-xl font-bold",children:"TP-Maintenance"})]})]}),s&&E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>m(!f),className:"flex items-center space-x-2 hover:bg-green-700 px-3 py-2 rounded transition-colors",children:[s.photoURL?E.jsx("img",{src:s.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border-2 border-white"}):E.jsx("div",{className:"w-8 h-8 rounded-full bg-green-700 flex items-center justify-center border-2 border-white",children:E.jsx(hA,{size:18})}),E.jsx("span",{className:"hidden md:block text-sm font-medium",children:s.displayName||s.email})]}),f&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),E.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg py-2 z-50",children:[E.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[E.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.displayName||""}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email}),E.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${b(u)}`,children:S(u)})]}),E.jsxs("button",{onClick:()=>{m(!1),g(!0)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors",children:[E.jsx(mM,{size:16,className:"mr-2"}),""]})]})]})]})]}),E.jsx(fr,{isOpen:p,onClose:()=>g(!1),onConfirm:T,title:"",message:"?",confirmText:"",isDanger:!0})]})},DM=({isOpen:r,onClose:e})=>{const n=Er(),{isAdmin:s,isTechnician:o}=Tr(),u=n.pathname==="/";let f=[];return u?f=[{path:"/report",label:"",sublabel:"Maintenance",icon:KE}]:(f=[{path:"/report",label:"",sublabel:"Maintenance",icon:KE},{path:"/history",label:"",sublabel:"History",icon:aM}],(o||s)&&f.push({path:"/admin",label:"",sublabel:"Admin",icon:pp}),s&&f.push({path:"/roles",label:"",sublabel:"Roles",icon:ph})),E.jsxs(E.Fragment,{children:[r&&E.jsx("div",{className:"fixed inset-0 z-40",onClick:e}),E.jsx("div",{className:`fixed top-0 left-0 h-full w-64 bg-green-800 text-white z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"}`,children:E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h2",{className:"text-xl font-bold",children:""}),E.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 focus:outline-none",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("nav",{className:"space-y-2",children:f.map(m=>{const p=m.icon;return E.jsxs(Sp,{to:m.path,onClick:e,className:`flex items-center px-4 py-3 rounded-lg transition-colors ${n.pathname===m.path?"bg-green-700 text-white":"text-green-100 hover:bg-green-700 hover:text-white"}`,children:[E.jsx(p,{size:24,className:"mr-3"}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-medium",children:m.label}),E.jsxs("span",{className:"text-xs text-green-200",children:["(",m.sublabel,")"]})]})]},m.path)})})]})})]})},OM=()=>{const r=So(),e=()=>{r("/report")};return E.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-80px)] bg-white",children:E.jsxs("div",{onClick:e,className:"bg-gray-200 p-10 rounded-lg shadow-sm flex flex-col items-center justify-center w-80 h-64 cursor-pointer hover:bg-gray-300 hover:shadow-md transition-all duration-200",children:[E.jsx("div",{className:"mb-4",children:E.jsx("img",{src:"./assets/WrenchIcon.png",alt:"Maintenance",className:"w-24 h-24 object-contain"})}),E.jsx("h2",{className:"text-lg font-semibold text-black mb-2",children:"(Maintenance)"}),E.jsxs("p",{className:"text-sm text-gray-600",children:["status: ",E.jsx("span",{className:"text-green-500 font-medium",children:""})]})]})})},fa="reports",MM=async(r,e,n,s)=>{try{const o={...r,reporterId:e,reporterEmail:n,reporterName:s||r.reporterName,status:"",assignedTo:null,assignedToName:null,assignedBy:null,assignedAt:null,hiddenFromAdmin:!1,createdAt:Ge.now(),updatedAt:Ge.now()};return{id:(await _4(vu(pn,fa),o)).id,...o}}catch(o){throw console.error("Error saving report:",o),o}},VM=async()=>{try{return(await cf(mg(vu(pn,fa),p4("createdAt","desc")))).docs.map(n=>({id:n.id,...n.data(),createdAt:n.data().createdAt?.toDate?.()?.toISOString()||n.data().createdAt,updatedAt:n.data().updatedAt?.toDate?.()?.toISOString()||n.data().updatedAt})).filter(n=>!n.hiddenFromAdmin)}catch(r){return console.error("Error getting reports:",r),[]}},kM=async r=>{try{const e=mg(vu(pn,fa),V1("reporterId","==",r));return(await cf(e)).docs.map(o=>({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate?.()?.toISOString()||o.data().createdAt,updatedAt:o.data().updatedAt?.toDate?.()?.toISOString()||o.data().updatedAt})).sort((o,u)=>new Date(u.createdAt)-new Date(o.createdAt))}catch(e){return console.error("Error getting user reports:",e),[]}},dA=async r=>{try{const e=Oi(pn,fa,r),n=await dp(e);return n.exists()?{id:n.id,...n.data(),createdAt:n.data().createdAt?.toDate?.()?.toISOString()||n.data().createdAt,updatedAt:n.data().updatedAt?.toDate?.()?.toISOString()||n.data().updatedAt}:null}catch(e){return console.error("Error getting report:",e),null}},LM=async(r,e)=>{try{const n=Oi(pn,fa,r);return await hf(n,{...e,updatedAt:Ge.now()}),await dA(r)}catch(n){throw console.error("Error updating report:",n),n}},jM=async(r,e,n,s)=>{try{const o=Oi(pn,fa,r);return await hf(o,{assignedTo:e,assignedToName:n,assignedBy:s,assignedAt:Ge.now(),updatedAt:Ge.now()}),await dA(r)}catch(o){throw console.error("Error assigning report:",o),o}},PM=async r=>{try{return await hf(Oi(pn,fa,r),{hiddenFromAdmin:!0,hiddenAt:new Date().toISOString()}),!0}catch(e){throw console.error("Error hiding report:",e),e}},UM=()=>{const r=So(),{currentUser:e}=Tr(),[n,s]=P.useState({reporterName:e?.displayName||"",location:"",problemType:"",problemDetails:"",images:[]}),[o,u]=P.useState(!1),[f,m]=P.useState(!1),[p,g]=P.useState({}),[T,b]=P.useState(!1),[S,k]=P.useState(null),Q=ue=>{const{name:C,value:x}=ue.target;s(R=>({...R,[C]:x})),p[C]&&g(R=>({...R,[C]:""}))},J=ue=>{ue.preventDefault(),ue.stopPropagation(),ue.type==="dragenter"||ue.type==="dragover"?m(!0):ue.type==="dragleave"&&m(!1)},F=ue=>{ue.preventDefault(),ue.stopPropagation(),m(!1),ue.dataTransfer.files&&ue.dataTransfer.files[0]&&ie(ue.dataTransfer.files)},ne=ue=>{ue.target.files&&ue.target.files[0]&&ie(ue.target.files)},ie=ue=>{const R=Array.from(ue).filter(O=>O.type.startsWith("image/")).map(O=>new Promise(D=>{const L=new FileReader;L.onloadend=()=>D(L.result),L.readAsDataURL(O)}));Promise.all(R).then(O=>{s(D=>({...D,images:[...D.images,...O]})),p.images&&g(D=>({...D,images:""}))})},re=ue=>{s(C=>({...C,images:C.images.filter((x,R)=>R!==ue)}))},_e=async ue=>{ue.preventDefault();const C={};if(n.reporterName.trim()||(C.reporterName=""),n.location.trim()||(C.location=""),n.problemType||(C.problemType=""),n.problemDetails.trim()||(C.problemDetails=""),n.images.length===0&&(C.images=" 1 "),Object.keys(C).length>0){g(C);return}try{b(!0),await MM(n,e.uid,e.email,n.reporterName),u(!0),s({reporterName:e?.displayName||"",location:"",problemType:"",problemDetails:"",images:[]}),g({})}catch(x){console.error("Error submitting report:",x),k(" ")}finally{b(!1)}},be=()=>{u(!1),r("/history")};return E.jsxs("div",{className:"min-h-[calc(100vh-64px)] bg-gray-200 flex items-center justify-center py-8 px-4",children:[E.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-sm p-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:""}),E.jsxs("form",{onSubmit:_e,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-normal text-gray-700 mb-1.5",children:[" ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"text",name:"reporterName",value:n.reporterName,onChange:Q,placeholder:"-",className:`w-full px-3 py-2 border ${p.reporterName?"border-red-500":"border-gray-300"} rounded text-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500`}),p.reporterName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.reporterName})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-normal text-gray-700 mb-1.5",children:["/ ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"text",name:"location",value:n.location,onChange:Q,placeholder:" (  101,  A)",className:`w-full px-3 py-2 border ${p.location?"border-red-500":"border-gray-300"} rounded text-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500`}),p.location&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.location})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-normal text-gray-700 mb-1.5",children:[" ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsxs("select",{name:"problemType",value:n.problemType,onChange:Q,className:`w-full px-3 py-2 border ${p.problemType?"border-red-500":"border-gray-300"} rounded text-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500`,children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"/",children:"/"}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]}),p.problemType&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.problemType})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-normal text-gray-700 mb-1.5",children:[" ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("textarea",{name:"problemDetails",value:n.problemDetails,onChange:Q,placeholder:"...",rows:"4",className:`w-full px-3 py-2 border ${p.problemDetails?"border-red-500":"border-gray-300"} rounded text-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 resize-none`}),p.problemDetails&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.problemDetails})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-normal text-gray-700 mb-1.5",children:[" ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${f?"border-green-500 bg-green-50":p.images?"border-red-500 bg-red-50":"border-gray-300 bg-gray-50 hover:bg-gray-100"}`,onDragEnter:J,onDragLeave:J,onDragOver:J,onDrop:F,children:[E.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:ne,className:"hidden",id:"image-upload"}),E.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx(bM,{className:`w-10 h-10 mb-2 ${f?"text-green-600":"text-gray-400"}`}),E.jsx("p",{className:"text-sm text-gray-600 font-medium",children:f?"":""}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" JPG, PNG ()"})]})})]}),p.images&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.images}),n.images.length>0&&E.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:n.images.map((ue,C)=>E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:ue,alt:` ${C+1}`,className:"w-full h-24 object-cover rounded border border-gray-300"}),E.jsx("button",{type:"button",onClick:()=>re(C),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(mf,{size:14})})]},C))}),n.images.length>0&&E.jsxs("p",{className:"text-sm text-green-600 mt-2 font-medium",children:[" ",n.images.length," "]})]}),E.jsx("button",{type:"submit",disabled:T,className:"w-full bg-green-700 hover:bg-green-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded transition-colors duration-200 flex items-center justify-center text-sm mt-6",children:T?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):E.jsxs(E.Fragment,{children:[E.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),""]})})]})]}),E.jsx(fr,{isOpen:o,onClose:be,onConfirm:be,title:"",message:"",confirmText:"",type:"success",showCancel:!1}),E.jsx(fr,{isOpen:!!S,onClose:()=>k(null),onConfirm:()=>k(null),title:"",message:S||"",confirmText:"",type:"danger",showCancel:!1})]})},zM=()=>{const{currentUser:r}=Tr(),[e,n]=P.useState([]),[s,o]=P.useState(null),[u,f]=P.useState(null),[m,p]=P.useState(!0);P.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{p(!0);const S=await kM(r.uid);n(S)}catch(S){console.error("Error loading reports:",S)}finally{p(!1)}},T=S=>new Date(S).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=S=>{switch(S){case"":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"":return"bg-blue-100 text-blue-800 border-blue-200";case"":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return E.jsxs("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:[E.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 text-center mb-8",children:""}),m?E.jsxs("div",{className:"text-center py-16",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."})]}):e.length===0?E.jsxs("div",{className:"text-center py-16",children:[E.jsx("svg",{className:"w-20 h-20 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),E.jsx("p",{className:"text-xl text-gray-500 font-medium",children:""}),E.jsx("p",{className:"text-sm text-gray-400 mt-2",children:" "})]}):E.jsx("div",{className:"grid gap-4",children:e.map(S=>E.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(S),children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:S.problemType}),E.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[E.jsx(uA,{size:14}),S.location]})]}),E.jsx("div",{className:"flex flex-col items-end gap-2",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${b(S.status)}`,children:S.status})})]}),E.jsx("p",{className:"text-sm text-gray-700 mb-3 line-clamp-2",children:S.problemDetails}),S.assignedToName&&E.jsxs("p",{className:"text-sm text-blue-600 mb-2 flex items-center gap-1",children:[E.jsx(fA,{size:14}),": ",S.assignedToName]}),E.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(lA,{size:12}),T(S.createdAt)]}),S.images&&S.images.length>0&&E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(lM,{size:12}),S.images.length," "]})]})]},S.id))})]}),s&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>o(null),children:E.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),E.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"flex gap-2",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${b(s.status)}`,children:s.status})}),E.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:s.reporterName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:"/"}),E.jsx("p",{className:"text-gray-800",children:s.location})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:s.problemType})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:s.problemDetails})]}),s.assignedToName&&E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:s.assignedToName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:T(s.createdAt)})]})]}),s.images&&s.images.length>0&&E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:""}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.images.map((S,k)=>E.jsx("img",{src:S,alt:` ${k+1}`,onClick:()=>f(S),className:"w-full h-48 object-cover rounded border border-gray-300 cursor-pointer hover:opacity-80 transition-opacity"},k))})]})]}),E.jsx("div",{className:"mt-6 flex justify-end",children:E.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded transition-colors",children:""})})]})})}),u&&E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",onClick:()=>f(null),children:[E.jsx("button",{onClick:()=>f(null),className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:E.jsx(mf,{size:32})}),E.jsx("img",{src:u,alt:"",className:"max-w-full max-h-full object-contain",onClick:S=>S.stopPropagation()})]})]})},BM=()=>{const{isAdmin:r,isTechnician:e}=Tr(),[n,s]=P.useState([]),[o,u]=P.useState([]),[f,m]=P.useState(""),[p,g]=P.useState("all"),[T,b]=P.useState(null),[S,k]=P.useState(null),[Q,J]=P.useState(!0),[F,ne]=P.useState([]),[ie,re]=P.useState(null),[_e,be]=P.useState(null),[ue,C]=P.useState(null),[x,R]=P.useState(null),[O,D]=P.useState(null);P.useEffect(()=>{L(),r&&I()},[]),P.useEffect(()=>{tt()},[n,f,p]);const L=async()=>{try{J(!0);const K=await VM();s(K)}catch(K){console.error("Error loading reports:",K)}finally{J(!1)}},I=async()=>{try{const K=vu(pn,"users"),ce=mg(K,V1("role","==","technician")),Ie=(await cf(ce)).docs.map(st=>({id:st.id,...st.data()}));ne(Ie)}catch(K){console.error("Error loading technicians:",K)}},tt=()=>{let K=[...n];p!=="all"&&(K=K.filter(ce=>ce.status===p)),f&&(K=K.filter(ce=>ce.reporterName?.toLowerCase().includes(f.toLowerCase())||ce.location?.toLowerCase().includes(f.toLowerCase())||ce.problemType?.toLowerCase().includes(f.toLowerCase()))),u(K)},dt=async(K,ce)=>{try{await LM(K,{status:ce}),await L(),T&&T.id===K&&b({...T,status:ce})}catch(Ee){console.error("Error updating status:",Ee),D("")}},Y=(K,ce,Ee)=>{const Ie=n.find(st=>st.id===K);if(Ie&&Ie.assignedTo===ce){D(""),re(null);return}C({reportId:K,technicianId:ce,technicianName:Ee})},oe=async()=>{if(!ue)return;const{reportId:K,technicianId:ce}=ue;try{await jM(K,ce),await L(),re(null),R(ue.technicianName)}catch(Ee){console.error("Error assigning report:",Ee),D("")}finally{C(null)}},me=K=>{be(K)},je=async()=>{if(_e)try{await PM(_e.id),await L(),b(null),be(null)}catch(K){console.error("Error deleting report:",K),D("")}},ze=K=>new Date(K).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=K=>{switch(K){case"":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"":return"bg-blue-100 text-blue-800 border-blue-200";case"":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ae={total:n.length,pending:n.filter(K=>K.status==="").length,inProgress:n.filter(K=>K.status==="").length,completed:n.filter(K=>K.status==="").length};return E.jsxs("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:[E.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:e?"":""}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[E.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-gray-600",children:""}),E.jsx("p",{className:"text-2xl font-bold text-gray-800",children:ae.total})]}),E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-yellow-700",children:""}),E.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:ae.pending})]}),E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-blue-700",children:""}),E.jsx("p",{className:"text-2xl font-bold text-blue-800",children:ae.inProgress})]}),E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-green-700",children:""}),E.jsx("p",{className:"text-2xl font-bold text-green-800",children:ae.completed})]})]}),E.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[E.jsx("div",{className:"md:col-span-2",children:E.jsxs("div",{className:"relative",children:[E.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",placeholder:" (, , )...",value:f,onChange:K=>m(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"})]})}),E.jsxs("select",{value:p,onChange:K=>g(K.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500",children:[E.jsx("option",{value:"all",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]})}),Q?E.jsxs("div",{className:"text-center py-16",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."})]}):o.length===0?E.jsx("div",{className:"text-center py-16",children:E.jsx("p",{className:"text-xl text-gray-500",children:""})}):E.jsx("div",{className:"grid gap-4",children:o.map(K=>E.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:K.problemType}),E.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-1",children:[E.jsx(uA,{size:14}),K.location]}),E.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-1",children:[E.jsx(hA,{size:14}),K.reporterName]}),K.assignedToName&&E.jsxs("p",{className:"text-sm text-blue-600 flex items-center gap-1",children:[E.jsx(fA,{size:14}),": ",K.assignedToName]})]}),E.jsxs("div",{className:"flex flex-col items-end gap-2",children:[E.jsxs("select",{value:K.status,onChange:ce=>dt(K.id,ce.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border cursor-pointer ${V(K.status)}`,children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]}),E.jsxs("div",{className:"flex gap-2",children:[r&&E.jsxs("button",{onClick:()=>re(K),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded transition-colors flex items-center gap-1",children:[E.jsx(wM,{size:14}),""]}),E.jsx("button",{onClick:()=>b(K),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-800 text-xs rounded transition-colors",children:""}),r&&E.jsx("button",{onClick:()=>me(K),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-xs rounded transition-colors",children:""})]})]})]}),E.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[E.jsx(lA,{size:12}),": ",ze(K.createdAt)]})]},K.id))})]}),T&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>b(null),children:E.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:K=>K.stopPropagation(),children:E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),E.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"flex gap-2",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${V(T.status)}`,children:T.status})}),E.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:T.reporterName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:"/"}),E.jsx("p",{className:"text-gray-800",children:T.location})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:T.problemType})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:T.problemDetails})]}),T.assignedToName&&E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:T.assignedToName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600",children:""}),E.jsx("p",{className:"text-gray-800",children:ze(T.createdAt)})]})]}),T.images&&T.images.length>0&&E.jsxs("div",{children:[E.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:""}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.images.map((K,ce)=>E.jsx("img",{src:K,alt:` ${ce+1}`,onClick:()=>k(K),className:"w-full h-48 object-cover rounded border border-gray-300 cursor-pointer hover:opacity-80 transition-opacity"},ce))})]})]}),E.jsx("div",{className:"mt-6 flex justify-end gap-2",children:E.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded transition-colors",children:""})})]})})}),ie&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>re(null),children:E.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",onClick:K=>K.stopPropagation(),children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),E.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[": ",E.jsx("strong",{children:ie.problemType})]}),E.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:F.map(K=>E.jsxs("button",{onClick:()=>Y(ie.id,K.id,K.displayName),className:"w-full text-left px-4 py-3 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[E.jsx("p",{className:"font-medium text-gray-800",children:K.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:K.email})]},K.id))}),E.jsx("button",{onClick:()=>re(null),className:"w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded transition-colors",children:""})]})}),S&&E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",onClick:()=>k(null),children:[E.jsx("button",{onClick:()=>k(null),className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",children:E.jsx(mf,{size:32})}),E.jsx("img",{src:S,alt:"",className:"max-w-full max-h-full object-contain",onClick:K=>K.stopPropagation()})]}),E.jsx(fr,{isOpen:!!_e,onClose:()=>be(null),onConfirm:je,title:"",message:` "${_e?.problemType}" ? `,confirmText:"",isDanger:!0}),E.jsx(fr,{isOpen:!!ue,onClose:()=>C(null),onConfirm:oe,title:"",message:` "${ue?.technicianName}" ?`,confirmText:"",type:"info"}),E.jsx(fr,{isOpen:!!x,onClose:()=>R(null),onConfirm:()=>R(null),title:"",message:` "${x}" `,confirmText:"",type:"success",showCancel:!1}),E.jsx(fr,{isOpen:!!O,onClose:()=>D(null),onConfirm:()=>D(null),title:"",message:O||"",confirmText:"",type:"danger",showCancel:!1})]})},qM=()=>{const{currentUser:r,isAdmin:e}=Tr(),[n,s]=P.useState([]),[o,u]=P.useState([]),[f,m]=P.useState(!0),[p,g]=P.useState(null),[T,b]=P.useState(null),[S,k]=P.useState(""),[Q,J]=P.useState("all"),[F,ne]=P.useState(null);P.useEffect(()=>{ie()},[]),P.useEffect(()=>{re()},[n,S,Q]);const ie=async()=>{try{const R=(await cf(vu(pn,"users"))).docs.map(O=>({id:O.id,...O.data()}));s(R.sort((O,D)=>new Date(D.createdAt)-new Date(O.createdAt)))}catch(x){console.error("Error loading users:",x)}finally{m(!1)}},re=()=>{let x=[...n];Q!=="all"&&(x=x.filter(R=>R.role===Q)),S&&(x=x.filter(R=>R.displayName?.toLowerCase().includes(S.toLowerCase())||R.email?.toLowerCase().includes(S.toLowerCase()))),u(x)},_e=(x,R,O)=>{b({userId:x,newRole:R,userName:O})},be=async()=>{if(!T)return;const{userId:x,newRole:R}=T;try{g(x),await hf(Oi(pn,"users",x),{role:R,updatedAt:new Date().toISOString()}),s(n.map(O=>O.id===x?{...O,role:R}:O))}catch(O){console.error("Error updating role:",O),ne("")}finally{g(null),b(null)}},ue=x=>{const R={admin:{color:"bg-red-100 text-red-800 border-red-200",label:"",icon:ph},technician:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"",icon:pp},user:{color:"bg-gray-100 text-gray-800 border-gray-200",label:"",icon:jm}};return R[x]||R.user},C=x=>new Date(x).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?f?E.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-white flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."})]})}):E.jsxs("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:[E.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),E.jsx("p",{className:"text-gray-600",children:""})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-5",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(ph,{className:"w-8 h-8 text-red-600 mr-3"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-red-600 font-medium",children:""}),E.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.filter(x=>x.role==="admin").length})]})]})}),E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-5",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(pp,{className:"w-8 h-8 text-blue-600 mr-3"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-blue-600 font-medium",children:""}),E.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.filter(x=>x.role==="technician").length})]})]})}),E.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(jm,{className:"w-8 h-8 text-gray-600 mr-3"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600 font-medium",children:""}),E.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(x=>x.role==="user").length})]})]})})]}),E.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",placeholder:" (, )...",value:S,onChange:x=>k(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"})]}),E.jsxs("select",{value:Q,onChange:x=>J(x.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500",children:[E.jsx("option",{value:"all",children:""}),E.jsx("option",{value:"admin",children:""}),E.jsx("option",{value:"technician",children:""}),E.jsx("option",{value:"user",children:""})]})]})}),E.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:""}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:""}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:""}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:""}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:""})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:""})}):o.map(x=>{const R=ue(x.role),O=R.icon,D=x.id===r?.uid;return E.jsxs("tr",{className:`hover:bg-gray-50 ${D?"bg-green-50":""}`,children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center",children:[x.photoURL?E.jsx("img",{src:x.photoURL,alt:x.displayName,className:"w-10 h-10 rounded-full mr-3"}):E.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center mr-3",children:E.jsx(jm,{size:20,className:"text-gray-500"})}),E.jsx("div",{children:E.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.displayName,D&&E.jsx("span",{className:"ml-2 text-xs text-green-600",children:"()"})]})})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("p",{className:"text-sm text-gray-600",children:x.email})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${R.color}`,children:[E.jsx(O,{size:14,className:"mr-1"}),R.label]})}),E.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[E.jsxs("select",{value:x.role,onChange:L=>_e(x.id,L.target.value,x.displayName),disabled:p===x.id||D,className:"text-sm border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-1 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[E.jsx("option",{value:"user",children:""}),E.jsx("option",{value:"technician",children:""}),E.jsx("option",{value:"admin",children:""})]}),D&&E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:C(x.createdAt)})]},x.id)})})]})})}),E.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[E.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:" "}),E.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[E.jsxs("li",{children:[E.jsx("strong",{children:":"})," "]}),E.jsxs("li",{children:[E.jsx("strong",{children:":"})," "]}),E.jsxs("li",{children:[E.jsx("strong",{children:":"}),"  "]})]})]})]}),E.jsx(fr,{isOpen:!!T,onClose:()=>b(null),onConfirm:be,title:"",message:` "${T?.userName}"  "${T?.newRole==="admin"?"":T?.newRole==="technician"?"":""}" ?`,confirmText:"",type:"warning"}),E.jsx(fr,{isOpen:!!F,onClose:()=>ne(null),onConfirm:()=>ne(null),title:"",message:F||"",confirmText:"",type:"danger",showCancel:!1})]}):E.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-white flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(ph,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""}),E.jsx("p",{className:"text-gray-600",children:""})]})})},HM=()=>{const r=So(),{signInWithGoogle:e}=Tr(),[n,s]=$v.useState(!1),[o,u]=$v.useState(""),f=async()=>{try{s(!0),u(""),await e(),r("/")}catch(m){console.error("Login error:",m),u(" ")}finally{s(!1)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center px-4",children:E.jsxs("div",{className:"max-w-md w-full",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"flex justify-center mb-4",children:E.jsx("img",{src:"./assets/taweethapisek-logo.png",alt:"Logo",className:"h-20 w-auto"})}),E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"TP-Maintenance"}),E.jsx("p",{className:"text-gray-600",children:""})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx(fM,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),E.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:""}),E.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Google "})]}),o&&E.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:E.jsx("p",{className:"text-sm text-red-600 text-center",children:o})}),E.jsx("button",{onClick:f,disabled:n,className:"w-full bg-white hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center border-2 border-gray-300 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:n?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-gray-700",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})," Google"]})}),E.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:E.jsxs("p",{className:"text-xs text-blue-800 text-center",children:[E.jsx("strong",{children:":"}),"  "]})})]}),E.jsx("div",{className:"text-center mt-6",children:E.jsx("p",{className:"text-sm text-gray-600",children:" 2024 TP-Maintenance. All rights reserved."})})]})})},Bl=({children:r})=>{const{currentUser:e,loading:n}=Tr();return n?E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."})]})}):e?r:E.jsx(Um,{to:"/login"})},FM=()=>{const[r,e]=P.useState(!1),{currentUser:n}=Tr(),s=()=>{e(!r)};return n?E.jsxs("div",{className:"min-h-screen bg-white font-sans",children:[E.jsx(NM,{onMenuClick:s,isMenuOpen:r}),E.jsx(DM,{isOpen:r,onClose:()=>e(!1)}),E.jsx("main",{children:E.jsxs(o0,{children:[E.jsx(lr,{path:"/",element:E.jsx(Bl,{children:E.jsx(OM,{})})}),E.jsx(lr,{path:"/report",element:E.jsx(Bl,{children:E.jsx(UM,{})})}),E.jsx(lr,{path:"/history",element:E.jsx(Bl,{children:E.jsx(zM,{})})}),E.jsx(lr,{path:"/admin",element:E.jsx(Bl,{children:E.jsx(BM,{})})}),E.jsx(lr,{path:"/roles",element:E.jsx(Bl,{children:E.jsx(qM,{})})}),E.jsx(lr,{path:"/login",element:E.jsx(Um,{to:"/"})})]})})]}):E.jsxs(o0,{children:[E.jsx(lr,{path:"/login",element:E.jsx(HM,{})}),E.jsx(lr,{path:"*",element:E.jsx(Um,{to:"/login"})})]})};function GM(){return E.jsx(d2,{basename:"/TP-Repair",children:E.jsx($O,{children:E.jsx(FM,{})})})}ew.createRoot(document.getElementById("root")).render(E.jsx(P.StrictMode,{children:E.jsx(GM,{})}));
